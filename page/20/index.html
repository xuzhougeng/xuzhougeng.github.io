<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>洲更的第二大脑</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="洲更的第二大脑">
<meta property="og:url" content="http://xuzhougeng.top/page/20/index.html">
<meta property="og:site_name" content="洲更的第二大脑">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="xuzhougeng">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="洲更的第二大脑" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">洲更的第二大脑</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://xuzhougeng.top"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-2019-09-09T04_04_28.482Z-2019-09-09T04_04_28.482Z" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/09/09/2019-09-09T04_04_28.482Z-2019-09-09T04_04_28.482Z/" class="article-date">
  <time class="dt-published" datetime="2019-09-09T12:04:29.805Z" itemprop="datePublished">2019-09-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/09/09/2019-09-09T04_04_28.482Z-2019-09-09T04_04_28.482Z/">Mon Sep 09 2019 04:04:28 GMT+0000 (Coordinated Universal Time)</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>同一个R包，不同的安装界面</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/image-3d183b98eb664adeb47bd24a57a881c5.png" alt="image.png"></p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/image-4d7d61c6894a40e08be8eec421f26936.png" alt="image.png"></p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/image-614d0ad8ca894ef4b5a16012a36c9305.png" alt="image.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://xuzhougeng.top/2019/09/09/2019-09-09T04_04_28.482Z-2019-09-09T04_04_28.482Z/" data-id="clm4a30og00a6e6nk6lnico5u" data-title="Mon Sep 09 2019 04:04:28 GMT+0000 (Coordinated Universal Time)" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-在iPad上阅读文献和图书-Read-book-or-literature-in-iPad" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/09/07/%E5%9C%A8iPad%E4%B8%8A%E9%98%85%E8%AF%BB%E6%96%87%E7%8C%AE%E5%92%8C%E5%9B%BE%E4%B9%A6-Read-book-or-literature-in-iPad/" class="article-date">
  <time class="dt-published" datetime="2019-09-07T19:17:09.046Z" itemprop="datePublished">2019-09-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%85%B6%E4%BB%96/">其他</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/09/07/%E5%9C%A8iPad%E4%B8%8A%E9%98%85%E8%AF%BB%E6%96%87%E7%8C%AE%E5%92%8C%E5%9B%BE%E4%B9%A6-Read-book-or-literature-in-iPad/">在iPad上阅读文献和图书</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>长久以来，我用iPad读文献的操作一直是下面这几步</p>
<ol>
<li>用Zotero从网上抓取文献</li>
<li>找出我的iPad连接线</li>
<li>将iPad连接到电脑</li>
<li>找到Zotero文献的所在目录</li>
<li>打开iTunes的共享</li>
<li>把PDF拖到iTnues的共享中</li>
<li>打开iPad用GoodReader打开文献</li>
</ol>
<p>每次插连接线都感觉自己太过原始。后来有了有了一部iPhoen手机，于是就变成了</p>
<ol>
<li>用Zotero从网上抓取文献</li>
<li>打开电脑微信，把PDF发给自己</li>
<li>打开iPhone的微信</li>
<li>用iPhone的AirDrop功能将PDF共享给我的iPad</li>
<li>打开iPad用GoodReader打开文献</li>
<li>清理电脑微信和手机微信上的文献</li>
</ol>
<p>手动清理是在是蠢。好在后来有了坚果云，就变成了</p>
<ol>
<li>用Zotero从网上抓取文献</li>
<li>把文献保存到坚果云</li>
<li>在iPad的GoodReader上同步文献</li>
</ol>
<p>但是GoodReader这个软件只能作为一个阅读工具,它的PDF编辑功能太弱, 也不适合作为一个笔记工具</p>
<p>现在知道了PaperShip和MarginNote 3，于是就是</p>
<ol>
<li>用Zotero抓取文献</li>
<li>用PaperShip同步文献，阅读文献</li>
<li>假如文献信息量很大，用MarginNote 3做笔记</li>
<li>MarginNote 3做的笔记可以导出至印象笔记</li>
</ol>
<p><del>不过PaperShip这个软件存在一些问题，会出现文件无法同步的问题，只能期待有更好的App了。</del>感谢坚果云，目前PaperShip能够顺利进行同步了。</p>
<p>只要打开坚果云官网，登录坚果云账号，在zotero文件夹新建空白的lastsync.txt文件，<strong>务必注意</strong>的是，必须使用坚果云自带的新建文件工具来新建lastsync.txt文件，不能通过手动上传的方式。</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/12/image-396f9e8d19ab4096ab18603324e51a75.png" alt="新建一个文件"></p>
<p>接着，重新在Zotero客户端或者Papership验证服务器即可</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/12/image-cefd561f652241dfb287871b337e61a8.png" alt="验证成功"></p>
<blockquote>
<p>如果我想看的是一本书，那么就是把书放到坚果云中，用MarginNote 3打开坚果云里的书做笔记。</p>
</blockquote>
<h2 id="利用ZotFile进行文献同步批注"><a href="#利用ZotFile进行文献同步批注" class="headerlink" title="利用ZotFile进行文献同步批注"></a>利用ZotFile进行文献同步批注</h2><p>还有一个解决方案，是ZotFile这款插件。我们只需要新建一个坚果云同步文件夹，Tablet，并在Zotfile的插件中加入该选项。</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/image-ca3d4cdc65654b88b891e9037b51f79f.png" alt="同步文件夹"></p>
<p>此时在Zotero处就会多出两个层次，存放送去批注的文件，以及批注完成的文件。</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/image-ac79c79640ac4af29c897195307e2a61.png" alt="Tablet Files"></p>
<p>我们将要阅读文献右击，在Manage Attachment 中选择 Send to Tablet</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/image-ac0822195ac34bdaabcfe836c7440d73.png" alt="送至平板"></p>
<p>因为我在GoodReader上设置坚果云中的Tablet作为同步服务器，因此就可以在GoodReader对文献进行批注。批注完成后，在Tablet Files(modified)中选择批注完成的文件，右击，在Manage Attachment 中选择 Get From Tablet</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/image-2bfa2f008df64c7fab05e6965a83ccb1.png" alt="取回修改后内容"></p>
<p>感觉这个方法也很不错，毕竟你回一次寝室看的文献也不会有那么多。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li>思考问题的熊的博客: <a target="_blank" rel="noopener" href="https://kaopubear.top/post/2019-09-11-howtolearnzotero/">Zotero入门学习路径</a></li>
<li>阳志平老师的博客: <a target="_blank" rel="noopener" href="https://www.yangzhiping.com/tech/zotero4.html">https://www.yangzhiping.com/tech/zotero4.html</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://xuzhougeng.top/2019/09/07/%E5%9C%A8iPad%E4%B8%8A%E9%98%85%E8%AF%BB%E6%96%87%E7%8C%AE%E5%92%8C%E5%9B%BE%E4%B9%A6-Read-book-or-literature-in-iPad/" data-id="clm4a30ly007ne6nkgc814j41" data-title="在iPad上阅读文献和图书" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Zotero-%E6%96%87%E7%8C%AE-%E5%9D%9A%E6%9E%9C%E4%BA%91/" rel="tag">Zotero | 文献 | 坚果云</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-使用坚果云作为Zotero的存储-Use-jianguoyun-as-sync-server-of-Zotero" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/09/07/%E4%BD%BF%E7%94%A8%E5%9D%9A%E6%9E%9C%E4%BA%91%E4%BD%9C%E4%B8%BAZotero%E7%9A%84%E5%AD%98%E5%82%A8-Use-jianguoyun-as-sync-server-of-Zotero/" class="article-date">
  <time class="dt-published" datetime="2019-09-07T17:47:30.284Z" itemprop="datePublished">2019-09-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%85%B6%E4%BB%96/">其他</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/09/07/%E4%BD%BF%E7%94%A8%E5%9D%9A%E6%9E%9C%E4%BA%91%E4%BD%9C%E4%B8%BAZotero%E7%9A%84%E5%AD%98%E5%82%A8-Use-jianguoyun-as-sync-server-of-Zotero/">使用坚果云作为Zotero的存储</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Zotero的存储2GB就需要20美刀，差不多的价格(199.90)能买一年的专业版坚果云，容量是54GB. </p>
<p>更重要的一点是用坚果云作为Zotero的同步服务器很方便。</p>
<p>第一步: 在坚果云上设置应用密码</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/1567846743051-f6d4d275896e48d2b33e5c595646eb15.png" alt="1应用密码"></p>
<p>第二步: 打开Zotero的首选项（preference），有可能是在工具栏中，也有可能是编辑栏中。</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/1567846803002-4adcfdc430f04257ba5527229cf4bc80.png" alt="首选项"></p>
<p>第三步: 在Zotero上关联坚果云的网盘，需要注意的是此处的密码不是坚果云的登录密码，而是第三方应用授权时的密码。</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/1567846934944-7785f212b72e4e6fadb4ccadf149a038.png" alt="配置同步"></p>
<p>后面同步就行了。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>官方教程: <a target="_blank" rel="noopener" href="http://help.jianguoyun.com/?p=3168">http://help.jianguoyun.com/?p=3168</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://xuzhougeng.top/2019/09/07/%E4%BD%BF%E7%94%A8%E5%9D%9A%E6%9E%9C%E4%BA%91%E4%BD%9C%E4%B8%BAZotero%E7%9A%84%E5%AD%98%E5%82%A8-Use-jianguoyun-as-sync-server-of-Zotero/" data-id="clm4a30ll006me6nke0vc9rhc" data-title="使用坚果云作为Zotero的存储" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Zotero-%E6%96%87%E7%8C%AE-%E5%9D%9A%E6%9E%9C%E4%BA%91/" rel="tag">Zotero | 文献 | 坚果云</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-服务器硬盘管理笔记-A-simple-disk-management-note" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/09/05/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A1%AC%E7%9B%98%E7%AE%A1%E7%90%86%E7%AC%94%E8%AE%B0-A-simple-disk-management-note/" class="article-date">
  <time class="dt-published" datetime="2019-09-05T22:50:20.564Z" itemprop="datePublished">2019-09-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/09/05/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A1%AC%E7%9B%98%E7%AE%A1%E7%90%86%E7%AC%94%E8%AE%B0-A-simple-disk-management-note/">服务器硬盘管理笔记</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="服务器硬盘分区和挂载"><a href="#服务器硬盘分区和挂载" class="headerlink" title="服务器硬盘分区和挂载"></a>服务器硬盘分区和挂载</h1><h2 id="文件系统简介"><a href="#文件系统简介" class="headerlink" title="文件系统简介"></a>文件系统简介</h2><p>以ext4文件系统为例，设计的时候分为4个部分</p>
<ul>
<li>超级块: 最开头部分，记录整个文件系统&#x2F;分区中的文件数，<code>df</code>根据该信息进行统计磁盘占用</li>
<li>超级块副本: 对超级块进行备份，存在多个备份</li>
<li>i节点(inode): 记录每个文件信息，名称&#x2F;大小&#x2F;编号&#x2F;权限。 用<code>ls -i</code>获取i节点信息</li>
<li>数据块(datablock): 事实上的数据存储点，i节点以链接式结构记录数据块的信息，因此找到i节点，就能读取对应的数据。</li>
</ul>
<p>由于<code>ls -l</code>获取的是i节点记录的数据使用的数据块个数，而<code>du</code>则是通过i节点获取实际大小, 所以<code>ls -l</code>和<code>du</code>显示的数据大小不同。</p>
<h2 id="RAID"><a href="#RAID" class="headerlink" title="RAID"></a>RAID</h2><p>RAID全称是Redundant Array of Independent Disks，也就是磁盘阵列，通过整合多块硬盘从而提升服务器数据的安全性，以及提高数据处理时的I&#x2F;O性能。</p>
<p>RAID目前常用的是RAID5, 至少需要3块硬盘，其中一块硬盘用于奇偶校验，保证数据安全，其余硬盘同时读写，提高性能。此外，你还需要知道最原始的是RAID0，同时将数据读写到所有硬盘里，速度就变成了原来的N倍。RAID1至少需要两块盘，其中一块硬盘是另外硬盘的镜像。它不提高读写效率，只提高了数据安全性。RAID10是RAID0和RAID1的组合。</p>
<p>目前的服务器都配备了硬件RAID卡，因此在为服务器增加或更换硬盘时，需要<strong>格外注意</strong>，</p>
<ul>
<li>插入的硬盘必须先做RAID才能被服务器识别</li>
<li>RAID5中的所有硬盘应当被视为一个硬盘，不能只更换其中一部分</li>
</ul>
<h2 id="硬盘分区"><a href="#硬盘分区" class="headerlink" title="硬盘分区"></a>硬盘分区</h2><p>fdisk只能对不多于2TB的硬盘进行分区</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk /dev/sdb</span><br></pre></td></tr></table></figure>

<p>假如你的硬盘大于2TB，那么会输出如下信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Welcome to fdisk (util-linux 2.23.2).</span><br><span class="line"></span><br><span class="line">Changes will remain <span class="keyword">in</span> memory only, <span class="keyword">until</span> you decide to write them.</span><br><span class="line">Be careful before using the write <span class="built_in">command</span>.</span><br><span class="line"></span><br><span class="line">Device does not contain a recognized partition table</span><br><span class="line">Building a new DOS disklabel with disk identifier 0x405fb398.</span><br><span class="line"></span><br><span class="line">WARNING: The size of this disk is 10.0 TB (10000294477824 bytes).</span><br><span class="line">DOS partition table format can not be used on drives <span class="keyword">for</span> volumes</span><br><span class="line">larger than (2199023255040 bytes) <span class="keyword">for</span> 512-byte sectors. Use parted(1) and GUID</span><br><span class="line">partition table format (GPT).</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">The device presents a logical sector size that is smaller than</span><br><span class="line">the physical sector size. Aligning to a physical sector (or optimal</span><br><span class="line">I/O) size boundary is recommended, or performance may be impacted.</span><br><span class="line"></span><br><span class="line">Command (m <span class="keyword">for</span> <span class="built_in">help</span>):</span><br></pre></td></tr></table></figure>

<p>提示信息中的警告中，就建议”Use parted(1) and GUID  partition table format (GPT).”</p>
<p>因此，对于大于2TB的硬盘就需要用<code>parted</code>进行分区</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">parted /dev/sdb</span><br></pre></td></tr></table></figure>

<p>输出信息如下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GNU Parted 3.1</span><br><span class="line">Using /dev/sdb</span><br><span class="line">Welcome to GNU Parted! Type <span class="string">&#x27;help&#x27;</span> to view a list of commands.</span><br></pre></td></tr></table></figure>

<p>创建新的GPT标签，例如</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mklabel gpt</span><br></pre></td></tr></table></figure>

<p>设置单位</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unit TB</span><br></pre></td></tr></table></figure>

<p>创建分区, 比如我将原来的10T分成2TB和8TB</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mkpart PART-TYPE [FS-TYPE] START END</span></span><br><span class="line">mkpart primary  ext4 0.00TB 2.00TB</span><br><span class="line">mkpart primary  ext4 2.00TB 10.00TB</span><br></pre></td></tr></table></figure>

<p>查看分区表</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span></span><br></pre></td></tr></table></figure>

<p>输出如下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Model: AVAGO MR9361-8i (scsi)</span><br><span class="line">Disk /dev/sdb: 10.0TB</span><br><span class="line">Sector size (logical/physical): 512B/4096B</span><br><span class="line">Partition Table: gpt</span><br><span class="line">Disk Flags: </span><br><span class="line"></span><br><span class="line">Number  Start   End     Size    File system  Name     Flags</span><br><span class="line"> 1      1049kB  2000GB  2000GB               primary</span><br><span class="line"> 2      2000GB  10.0TB  8000GB               primary</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>退出</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quit</span><br></pre></td></tr></table></figure>

<p>此时会提示”Information: You may need to update &#x2F;etc&#x2F;fstab.” <code>/etc/fstab</code>用于设置开机硬盘自动挂载。如果硬盘被拔走了，而<code>/etc/fstab</code>没有修改，那么会就提示进行修复模式。</p>
<h2 id="硬盘格式化"><a href="#硬盘格式化" class="headerlink" title="硬盘格式化"></a>硬盘格式化</h2><p>在挂载硬盘之前，需要先对磁盘进行格式化。使用的命令为<code>mkfs</code>, 使用<code>-t</code>指定文件系统，或者用<code>mkfs.xxx</code>，其中xxx就是对应的文件系统。文件系统有如下几类</p>
<ul>
<li>传统文件系统: ext2, minix, msdos, fat, vfat</li>
<li>日志文件系统: ext3, xfs, ext4</li>
<li>网络文件系统: nfs</li>
</ul>
<p>目前最流行的是ext4和xfs，足够稳定。其中xfs是CentOS7之后的默认文件系统。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkfs.ext4 /dev/sdb1</span><br><span class="line">mkfs.ext4 /dev/sdb2</span><br></pre></td></tr></table></figure>

<h2 id="硬盘挂载"><a href="#硬盘挂载" class="headerlink" title="硬盘挂载"></a>硬盘挂载</h2><p>之后用<code>mount</code>进行硬盘挂载，分别两种情况考虑</p>
<p>一种是新建一个文件路径，进行挂载。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> data2</span><br><span class="line">mount /dev/sdb2 /data2/</span><br></pre></td></tr></table></figure>

<p>另一种是挂载一个已有目录，比如说临时文件目录<code>/tmp</code>挂载到新的设备中。</p>
<p>第一步: 新建一个挂载点，将原有数据移动到该目录下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /storage</span><br><span class="line">mount /dev/sdb1  /storage</span><br><span class="line"><span class="built_in">cp</span> -pdr /tmp/* /storage</span><br></pre></td></tr></table></figure>

<p>第二步: 删除原来的<code>/tmp</code>下内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -rf /tmp/*</span><br></pre></td></tr></table></figure>

<p>第三步: 重新挂载</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">umount /dev/sdb1</span><br><span class="line">mount /dev/sdb1 /tmp</span><br></pre></td></tr></table></figure>

<p>和mount相关的文件如下</p>
<ul>
<li>&#x2F;etc&#x2F;fstab: 文件系统表， 开机的时候会根据里面的记录进行硬盘挂载</li>
<li>&#x2F;etc&#x2F;mtab: 记录着已经挂载的文件系统</li>
<li>&#x2F;etc&#x2F;mtab~: 锁定文件</li>
<li>&#x2F;etc&#x2F;mtab.tmp: 临时文件</li>
<li>&#x2F;etc&#x2F;filesystems: 系统支持的文件系统</li>
</ul>
<p>此外mount在挂载的时候还可以设置文件系统参数，例如是否支持磁盘配额，对应<code>-o</code>参数</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>第零步: 检查服务器是否具备RAID阵列卡，如果有，则需要先为硬盘做RAID。</p>
<p>第一步: 使用<code>fdisk -l</code>检查硬盘是否能被系统检测到</p>
<p>第二步(可选):  假如需要<strong>硬盘分区</strong>，则用<code>fdisk/gdisk/parted</code>对硬盘划分磁盘</p>
<p>第三步: 使用mkfs进行磁盘<strong>格式化</strong>，有如下几种可选，</p>
<p>第四步: 用mkdir新建一个目录，然后用mount将格式化的硬盘挂载到指定目录下。卸载硬盘，则是<code>umout</code></p>
<p>第五步: 修改<code>/etc/fstab </code>将硬盘在重启的时候自动挂载。<strong>注意</strong>: 如果硬盘不在了，则需要将对应行注释掉，否则会进入到emergency模式。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://xuzhougeng.top/2019/09/05/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A1%AC%E7%9B%98%E7%AE%A1%E7%90%86%E7%AC%94%E8%AE%B0-A-simple-disk-management-note/" data-id="clm4a30oc009ue6nkbufyevi2" data-title="服务器硬盘管理笔记" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag">服务器</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-使用OrthoFinder进行基因家族分析-OrthoFinder2-fast-and-accurate-phylogenomic-orthology-analysis-from-gene-sequences" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/09/03/%E4%BD%BF%E7%94%A8OrthoFinder%E8%BF%9B%E8%A1%8C%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%88%86%E6%9E%90-OrthoFinder2-fast-and-accurate-phylogenomic-orthology-analysis-from-gene-sequences/" class="article-date">
  <time class="dt-published" datetime="2019-09-03T21:33:32.585Z" itemprop="datePublished">2019-09-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%94%9F%E4%BF%A1%E8%BD%AF%E4%BB%B6%E5%B7%A5%E5%85%B7%E7%AE%B1/">生信软件工具箱</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/09/03/%E4%BD%BF%E7%94%A8OrthoFinder%E8%BF%9B%E8%A1%8C%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%88%86%E6%9E%90-OrthoFinder2-fast-and-accurate-phylogenomic-orthology-analysis-from-gene-sequences/">使用OrthoFinder进行基因家族分析</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>谈论到直系同源基因分析的时候，大部分教程都是介绍OrthoMCL，这是2003年发表的一个工具，目前的引用次数已经达到了3000多，但这个软件似乎在2013年之后就不在更新，而且安装时还需要用到MySQL（GitHub上有人尝试从MySQL转到sqlite）。</p>
<p>而OrthoFinder则是2015年出现的软件，目前已有400多引用。该软件持续更新，安装更加友好，因此我决定使用它来做直系同源基因的相关分析。</p>
<h2 id="OrthoFinder能做什么？"><a href="#OrthoFinder能做什么？" class="headerlink" title="OrthoFinder能做什么？"></a>OrthoFinder能做什么？</h2><p><strong>OrthoFinder: solving fundamental biases in whole genome comparisons dramatically improves orthogroup inference accuracy</strong>提到，它的优点就是比其他的直系同源基因组的推断软件准确，并且速度还快。</p>
<p>此外他还能分析所提供物种的系统发育树，将基因树中的基因重复事件映射到物种树的分支上，还提供了一些比较基因组学中的统计结果。</p>
<h2 id="OrthoFinder的分析过程"><a href="#OrthoFinder的分析过程" class="headerlink" title="OrthoFinder的分析过程"></a>OrthoFinder的分析过程</h2><p>OrthoFinder的分析过程分为如下几步:</p>
<ol>
<li>BLAST all-vs-all搜索。使用BLASTP以evalue&#x3D;10e-3进行搜索，寻找潜在的同源基因。(除了BLAST, 还可以选择DIAMOND和MMSeq2)</li>
<li>基于基因长度和系统发育距离对BLAST bit得分进行标准化。</li>
<li>使用RBNHs确定同源组序列性相似度的阈值</li>
<li>构建直系同源组图(orthogroup graph)，用作MCL的输入</li>
<li>使用MCL对基因进行聚类，划分直系同源组</li>
</ol>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/2013053-fcf22f8b8d42af31-a600d4e6b791463090ac4c66b83a02a9.png" alt="分析流程1"><br>OrthoFinder2在OrthoFinder的基础上增加了物种系统发育树的构建，流程如下</p>
<ol>
<li>为每个直系同源组构建基因系统发育树</li>
<li>使用STAG算法从无根基因树上构建无根物种树</li>
<li>使用STRIDE算法构建有根物种树</li>
<li>有根物种树进一步辅助构建有根基因树</li>
</ol>
<p>基于Duplication-Loss-Coalescent 模型，有根基因树可以用来推断物种形成和基因复制事件，最后记录在统计信息中。</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/2013053-7d2f86174bdc7544-a1ef1ae5e44f4b02aa5a89c15dd8ffe6.png" alt="分析流程2"></p>
<h2 id="软件使用"><a href="#软件使用" class="headerlink" title="软件使用"></a>软件使用</h2><p>在解压缩的OrthoFinder文件目录下(安装见最后)有一个 <code>ExampleData</code>, 里面就是用于测试的数据集。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">orthofinder -f ExampleData -S mmseqs</span><br><span class="line"><span class="comment"># -f 指定文件夹</span></span><br><span class="line"><span class="comment"># -S 指定序列搜索程序，有blast, mmseqs, blast_gz, diamond可用</span></span><br></pre></td></tr></table></figure>

<p>OrthoFinder的基本使用就是如此简单，而且最终效果也基本符合需求。</p>
<p>如果你想根据多序列联配(MSA)结果按照极大似然法构建系统发育树，那么你需要加上<code>-M msa</code>。这样结果会更加准确，但是代价就是运行时间会更久，这是因为<code>OrthoFinder</code>要做10,000 - 20,000个基因树的推断。</p>
<p>OrthoFinder默认用mafft进行多序列联配，用fasttree进行进化树推断。多序列联配软件还支持muscle, 进化树推断软件还支持iqtree, raxml-ng, raxml。例如参数可以设置为<code>-M msa -A mafft -T raxml</code>.</p>
<p>并行化参数:  <code>-t</code>参数指定序列搜索时的线程数，<code>-a</code>指的是序列搜索后分析的CPU数。</p>
<h2 id="软件细节"><a href="#软件细节" class="headerlink" title="软件细节"></a>软件细节</h2><p>OrthoFinder提供了<code>config.json</code>可以调整不同软件的参数，如下是BLASTP。</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/2013053-5f1351f121fb018a-31c5505be8474fe587ceba1daefc3c0c.png" alt="BLASTP参数"></p>
<p>OrthoFinder默认使用<code>DendroBLAST</code>发育树，也就是根据序列相似度推断进化关系。这是作者推荐的方法，在损失部分准确性的前提下提高了运算效率。当然你可以用<code>-M msa</code>从多序列比对的基础上进行基因树构建。如果你先用了默认的<code>DendroBLAST</code>，想测试下传统的MSA方法，那么也不需要重头运行，因为有一个<code>-b</code>参数可以在复用之前的比对结果。</p>
<p>在物种发育树的推断上，OrthoFinder使用STAG算法，利用所有进行构建系统发育树，而非单拷贝基因。此外当使用MSA方法进行系统发育树推断时，OrthoFinder为了保证有足够多的基因(大于100)用于分析，除了使用单拷贝基因外，还会挑选大部分是单拷贝基因的直系同源组。这些直系同源组的基因前后相连，用空缺字符表示缺失的基因，如果某一列存在多余50%的空缺字符，那么该列被剔除。最后基于用户指定的建树软件进行系统发育树构建。结果在”WorkingDirectory&#x2F;SpeciesTree_unrooted.txt”</p>
<p>使用STRIDE算法从无根树中推断出有根树, 结果就是”SpeciesTree_rooted.txt”.</p>
<h2 id="结果文件"><a href="#结果文件" class="headerlink" title="结果文件"></a>结果文件</h2><p>运行结束后，会在<code>ExampleData</code>里多出一个文件夹，<code>Results_Feb14</code>, 其中Feb14是我运行的日期</p>
<p>直系同源组相关结果文件，将不同的直系同源基因进行分组</p>
<ul>
<li>Orthogroups.csv：用制表符分隔的文件，每一行是直系同源基因组对应的基因。</li>
<li>Orthogroups.txt: 类似于Orthogroups.csv，只不过是OrhtoMCL的输出格式</li>
<li>Orthogroups_UnassignedGenes.csv: 格式同Orthogroups.csv，只不过是物种特异性的基因</li>
<li>Orthogroups.GeneCount.csv：格式同Orthogroups.csv, 只不过不再是基因名信息，而是以基因数。</li>
</ul>
<p>直系同源相关文件，分析每个直系同源基因组里的直系同源基因之间关系，结果会在<code>Orthologues_Feb14</code>文件夹下，其中<code>Feb14</code>是日期</p>
<ul>
<li>Gene_Trees: 每个直系同源基因基因组里的基因树</li>
<li>Recon_Gene_Trees：使用OrthoFinder duplication-loss coalescent 模型进行发育树推断</li>
<li>Potential_Rooted_Species_Trees: 可能的有根物种树</li>
<li>SpeciesTree_rooted.txt: 从所有包含STAG支持的直系同源组推断的STAG物种树</li>
<li>SpeciesTree_rooted_node_labels.txt:  同上，只不过多了一个标签信息，用于解释基因重复数据。</li>
</ul>
<p>比较基因组学的相关结果文件：</p>
<ul>
<li>Orthogroups_SpeciesOverlaps.csv： 不同物种间的同源基因的交集</li>
<li>SingleCopyOrthogroups.txt： 单基因拷贝组的编号</li>
<li>Statistics_Overall.csv：总体统计信息</li>
<li>Statistics_PerSpecies.csv：分物种统计信息</li>
</ul>
<blockquote>
<p>STAG是一种从所有基因推测物种树的算法，不同于使用单拷贝的直系同源基因进行进化树构建。</p>
</blockquote>
<h2 id="一些重要概念"><a href="#一些重要概念" class="headerlink" title="一些重要概念:"></a>一些重要概念:</h2><ul>
<li>Species-specific orthogroup: 一个仅来源于一个物种的直系同源组</li>
<li>Single-copy orthogroup:  在直系同源组中，每个物种里面只有一个基因。我们会用单拷贝直系同源组里的基因推断物种树以及其他数据分析。</li>
<li>Unassigned gene: 无法和其他基因进行聚类的基因。</li>
<li>G50和O50，指的是当你直系同源组按照基因数从大到小进行排列，然后累加，当加入某个组后，累计基因数大于50%的总基因数，那么所需要的直系同源组的数目就是O50，该组的基因树就是G50.</li>
</ul>
<p>Orthogroups, Orthologs 和 Paralogs 这三个概念推荐看图理解。</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/2013053-2f173574122e5f7b-7f7eb8e9bb92428188011ffbace33c54.png" alt="概念辨析"></p>
<h2 id="如何安装？"><a href="#如何安装？" class="headerlink" title="如何安装？"></a>如何安装？</h2><h3 id="最快的方法"><a href="#最快的方法" class="headerlink" title="最快的方法"></a>最快的方法</h3><p>OrthoFinder可以通过conda安装，建议为它新建一个虚拟环境</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create -n orthofinder orthofinder=2.2.7</span><br></pre></td></tr></table></figure>

<h3 id="如果你愿意折腾"><a href="#如果你愿意折腾" class="headerlink" title="如果你愿意折腾"></a>如果你愿意折腾</h3><p>你先得安装它的三个依赖工具: MCL, FastME, DIAMOND&#x2F;MMseqs2&#x2F;BLAST+</p>
<p>MCL有两种安装方式，最简单的就是用<code>sudo apt-get install mcl</code>, 但是对于大部分人可能没有root权限，因此这里用源代码编译。<a target="_blank" rel="noopener" href="http://micans.org/mcl/">http://micans.org/mcl/</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wget https://www.micans.org/mcl/src/mcl-latest.tar.gz</span><br><span class="line">tar xf mcl-latest.tar.gz</span><br><span class="line"><span class="built_in">cd</span> mcl-14.137</span><br><span class="line"> ./configure --prefix=~/opt/biosoft/mcl-14.137</span><br><span class="line">make -j 20 &amp;&amp; make install </span><br></pre></td></tr></table></figure>

<p>之后是MMseqs2, 一个蛋白搜索和聚类工具集，相关文章发表在NBT, NC上。GitHub地址为<a target="_blank" rel="noopener" href="https://github.com/soedinglab/MMseqs2">https://github.com/soedinglab/MMseqs2</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/soedinglab/MMseqs2/releases/download/3-be8f6/MMseqs2-Linux-AVX2.tar.gz</span><br><span class="line">tar xzf MMseqs2-Linux-AVX2.tar.gz</span><br><span class="line"><span class="built_in">mv</span> mmseqs2 ~/opt/biosoft/</span><br></pre></td></tr></table></figure>

<p>最后安装FastME, 这是一个基于距离的系统发育树推断软件。在<a target="_blank" rel="noopener" href="http://www.atgc-montpellier.fr/fastme/binaries.php">http://www.atgc-montpellier.fr/fastme/binaries.php</a>下载，上传到服务器</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/2013053-3869a0edacf453d8-b0f1bad1bc95463f813bb07bc2dfc501.png" alt="下载"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tar xf fastme-2.1.5.tar.gz</span><br><span class="line"><span class="built_in">cd</span> fastme-2.1.5</span><br><span class="line">./configure --prefix=/opt/biosoft/fastme-2.1.5</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>

<p>BLAST+可装可不装，推荐阅读<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/de28be1a3bea">这或许是我写的最全的BLAST教程</a></p>
<p>以上软件安装之后，都需要将其添加到环境变量中，才能被OrthoFinder调用。</p>
<p>之后在<a target="_blank" rel="noopener" href="https://github.com/davidemms/OrthoFinder/releases">https://github.com/davidemms/OrthoFinder/releases</a> 寻找最近的稳定版本下载到本地，例如<a target="_blank" rel="noopener" href="https://github.com/davidemms/OrthoFinder/releases/tag/v2.2.7">OrthoFinder v2.2.7</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar xzf OrthoFinder-2.2.7.tar.gz</span><br><span class="line">OrthoFinder-2.2.7/orthofinder -h</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://xuzhougeng.top/2019/09/03/%E4%BD%BF%E7%94%A8OrthoFinder%E8%BF%9B%E8%A1%8C%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%88%86%E6%9E%90-OrthoFinder2-fast-and-accurate-phylogenomic-orthology-analysis-from-gene-sequences/" data-id="clm4a30qg00f0e6nk0km60th5" data-title="使用OrthoFinder进行基因家族分析" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F/" rel="tag">基因家族</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-使用OrthoMCL鉴定直系同源基因组-OrthoMCL-Identification-of-Ortholog-Groups-for-Eukaryotic-Genomes" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/09/03/%E4%BD%BF%E7%94%A8OrthoMCL%E9%89%B4%E5%AE%9A%E7%9B%B4%E7%B3%BB%E5%90%8C%E6%BA%90%E5%9F%BA%E5%9B%A0%E7%BB%84-OrthoMCL-Identification-of-Ortholog-Groups-for-Eukaryotic-Genomes/" class="article-date">
  <time class="dt-published" datetime="2019-09-03T15:57:48.135Z" itemprop="datePublished">2019-09-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%94%9F%E4%BF%A1%E8%BD%AF%E4%BB%B6%E5%B7%A5%E5%85%B7%E7%AE%B1/">生信软件工具箱</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/09/03/%E4%BD%BF%E7%94%A8OrthoMCL%E9%89%B4%E5%AE%9A%E7%9B%B4%E7%B3%BB%E5%90%8C%E6%BA%90%E5%9F%BA%E5%9B%A0%E7%BB%84-OrthoMCL-Identification-of-Ortholog-Groups-for-Eukaryotic-Genomes/">使用OrthoMCL鉴定直系同源基因组</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>OrthoMCL是目前最常用的基因家族分析软件，从2013年发布2.0版本之后再也没有更新过，虽然它的安装过程复杂负责，但是依旧挡不住大家对他的喜好。</p>
<p>当然软件安装复杂是相对于之前，现在用Docker就可以轻松的安装和使用OrthoMCL。由于</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull jasonkwan/orthomcl_docker</span><br></pre></td></tr></table></figure>

<p>由于该容器自带一个<code>run_orthomcl.py</code>, 只要你准备好输入数据和配置文件，就能够自动化进行分析.</p>
<p>其中run_orthomcl.py的参数有5个</p>
<ul>
<li>-t&#x2F;–table_path fasta_table的文件路径</li>
<li>-s&#x2F;–start_stage: 开始阶段，1,2,3,4</li>
<li>-e&#x2F;–end_stage: 结束阶段， 1,2,3,4</li>
<li>-p&#x2F;–processors: 线程数</li>
<li>-c&#x2F;–config_file: 配置文件</li>
</ul>
<p>其中-s和-e的1-4分别对应为</p>
<ul>
<li>1: 使用orthomclAdjustFasta, orthomclFilterFasta进行数据预处理</li>
<li>2: 使用DIAMOND进行all-vs-all blast</li>
<li>3: 使用MySQL数据库寻找配对</li>
<li>4: 使用MCL处理配对</li>
</ul>
<h2 id="分析流程"><a href="#分析流程" class="headerlink" title="分析流程"></a>分析流程</h2><p>我们以一个具体的案例说明下。新建一个文件夹，例如说<code>test</code>， 里面是收集好的物种氨基酸序列。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">ls</span></span><br><span class="line">Alyrata.faa  Athaliana.faa  Chirsuta.faa</span><br></pre></td></tr></table></figure>

<p>由于Docker版本的OrthoMCL使用DIAMOND进行blastp比对，因此一定要保证你的氨基酸序列中没有”.”，否则会报错。可以用<code>seqkit grep</code>过滤不合格的序列。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">seqkit grep -s -vrp <span class="string">&#x27;&quot;\.&quot;&#x27;</span> input.fa &gt; output.faa</span><br></pre></td></tr></table></figure>

<p>之后创建一个fasta_table，放在<code>test</code>目录下。该文件分为两列，第一列是文件名，第二列是缩写。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Alyrata.faa	Aly</span><br><span class="line">Athaliana.faa	Ath</span><br><span class="line">Chirsuta.faa	Chi</span><br></pre></td></tr></table></figure>

<p>准备配置文件<code>orthomcl.config</code>，同样放在<code>test</code>目录下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">dbVendor=mysql</span><br><span class="line">dbConnectString=dbi:mysql:orthomcl:mysql_local_infile=1</span><br><span class="line">dbLogin=root</span><br><span class="line">dbPassword=PAssw0rd</span><br><span class="line">similarSequencesTable=SimilarSequences</span><br><span class="line">orthologTable=Ortholog</span><br><span class="line">inParalogTable=InParalog</span><br><span class="line">coOrthologTable=CoOrtholog</span><br><span class="line">interTaxonMatchView=InterTaxonMatch</span><br><span class="line">percentMatchCutoff=50</span><br><span class="line">evalueExponentCutoff=-5</span><br><span class="line">oracleIndexTblSpc=NONE</span><br></pre></td></tr></table></figure>

<p>在test同级目录下运行如下命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --privileged=<span class="literal">true</span>  --<span class="built_in">rm</span> -it --volume <span class="variable">$PWD</span>/test:/outdir:rw jasonkwan/orthomcl_docker:latest bash</span><br></pre></td></tr></table></figure>

<p>就会进入Docker的交互命令行，运行<code>run_orthomcl.py</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> outdir</span><br><span class="line">run_orthomcl.py --table_path fasta_table --config_file orthomcl.config --processors 32 &amp;</span><br></pre></td></tr></table></figure>

<p>假如不希望进入交互命令行，那么需要按照下面的方法进行运行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --privileged=<span class="literal">true</span>  --<span class="built_in">rm</span> --volume <span class="variable">$PWD</span>/test:/outdir:rw jasonkwan/orthomcl_docker:latest /bin/bash -c <span class="string">&quot;/tmp/.runconfig.sh &amp;&amp; run_orthomcl.py --table_path /outdir/fasta_table --config_file /outdir/orthomcl.config --processors 32 &quot;</span></span><br></pre></td></tr></table></figure>

<p>最终输出结果是groups.txt。下一个问题是，当你有了groups.txt后，下面能做什么分析呢？</p>
<p>按照对基因组学文章的整理，基本上就是下面两个</p>
<ul>
<li>使用单拷贝基因构建系统发育树。</li>
<li>使用CAFE进行基因家族扩张收缩分析</li>
</ul>
<p>我正在找一篇文章尝试重现这个流程。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a target="_blank" rel="noopener" href="https://hub.docker.com/r/jasonkwan/orthomcl_docker">https://hub.docker.com/r/jasonkwan/orthomcl_docker</a></li>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/jason_c_kwan/orthomcl_docker/src/master/Dockerfile">https://bitbucket.org/jason_c_kwan/orthomcl_docker/src/master/Dockerfile</a></li>
<li>特别感谢<a target="_blank" rel="noopener" href="https://github.com/leoatchina">Leo</a>在Docker上的帮助</li>
<li>Dockerfile中CMD和ENTRYPOINT: <a target="_blank" rel="noopener" href="https://www.cnblogs.com/sparkdev/p/8461576.html">https://www.cnblogs.com/sparkdev/p/8461576.html</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://xuzhougeng.top/2019/09/03/%E4%BD%BF%E7%94%A8OrthoMCL%E9%89%B4%E5%AE%9A%E7%9B%B4%E7%B3%BB%E5%90%8C%E6%BA%90%E5%9F%BA%E5%9B%A0%E7%BB%84-OrthoMCL-Identification-of-Ortholog-Groups-for-Eukaryotic-Genomes/" data-id="clm4a30qh00f3e6nkapu6gcx1" data-title="使用OrthoMCL鉴定直系同源基因组" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F/" rel="tag">基因家族</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-这可能是最全最好的BLAST教程-It-maybe-the-best-BLAST-tutorial" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/09/02/%E8%BF%99%E5%8F%AF%E8%83%BD%E6%98%AF%E6%9C%80%E5%85%A8%E6%9C%80%E5%A5%BD%E7%9A%84BLAST%E6%95%99%E7%A8%8B-It-maybe-the-best-BLAST-tutorial/" class="article-date">
  <time class="dt-published" datetime="2019-09-02T18:29:39.839Z" itemprop="datePublished">2019-09-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%94%9F%E4%BF%A1%E8%BD%AF%E4%BB%B6%E5%B7%A5%E5%85%B7%E7%AE%B1/">生信软件工具箱</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/09/02/%E8%BF%99%E5%8F%AF%E8%83%BD%E6%98%AF%E6%9C%80%E5%85%A8%E6%9C%80%E5%A5%BD%E7%9A%84BLAST%E6%95%99%E7%A8%8B-It-maybe-the-best-BLAST-tutorial/">这可能是最全最好的BLAST教程</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Basic-local-alignment-search-tool-BLAST"><a href="#Basic-local-alignment-search-tool-BLAST" class="headerlink" title="Basic local alignment search tool (BLAST)"></a>Basic local alignment search tool (BLAST)</h1><p>包括：blastn, blastp, blastx, tblastn, tblastx等. 使用conda安装即可。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conda install -c bioconda blast</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">blast安装perl模块的方法</span></span><br><span class="line">conda install perl-digest-md5</span><br></pre></td></tr></table></figure>

<h2 id="BLAST的主要理念"><a href="#BLAST的主要理念" class="headerlink" title="BLAST的主要理念"></a>BLAST的主要理念</h2><ul>
<li>Search may take place in nucleotide and&#x2F;or protein space or translated spaces where nucleotides are translated into proteins.</li>
<li>Searches may implement search “strategies”: optimizations to a certain task. Different search strategies will return different alignments.</li>
<li>Searches use alignments that rely on scoring matrices</li>
<li>Searches may be customized with many additional parameters. BLAST has many subtle functions that most users never need.</li>
</ul>
<h2 id="本地BLAST的基本步骤"><a href="#本地BLAST的基本步骤" class="headerlink" title="本地BLAST的基本步骤"></a>本地BLAST的基本步骤</h2><ol>
<li>用makeblastdb为BLAST提供数据库</li>
<li>选择blast工具，blastn,blastp</li>
<li>运行工具，有必要的还可以对输出结果进行修饰</li>
</ol>
<h3 id="第一步：建立检索所需数据库"><a href="#第一步：建立检索所需数据库" class="headerlink" title="第一步：建立检索所需数据库"></a>第一步：建立检索所需数据库</h3><p>BLAST数据库分为两类，核酸数据库和氨基酸数据库，可以用<code>makeblastbd</code>创建。可以用help参数简单看下说明。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">makeblastdb -<span class="built_in">help</span></span></span><br><span class="line">USAGE</span><br><span class="line">  makeblastdb [-h] [-help] [-in input_file] [-input_type type]</span><br><span class="line">    -dbtype molecule_type [-title database_title] [-parse_seqids]</span><br><span class="line">    [-hash_index] [-mask_data mask_data_files] [-mask_id mask_algo_ids]</span><br><span class="line">    [-mask_desc mask_algo_descriptions] [-gi_mask]</span><br><span class="line">    [-gi_mask_name gi_based_mask_names] [-out database_name]</span><br><span class="line">    [-max_file_sz number_of_bytes] [-logfile File_Name] [-taxid TaxID]</span><br><span class="line">    [-taxid_map TaxIDMapFile] [-version]</span><br><span class="line">-dbtype &lt;String, `nucl&#x27;, `prot&#x27;&gt;</span><br></pre></td></tr></table></figure>

<p>具体以拟南芥基因组作为案例，介绍使用方法：<br><strong>注</strong>： 拟南芥的基因组可以在TAIR上下在，也可在<a target="_blank" rel="noopener" href="http://ensemblgenomes.org/info/genomes">ensemblgenomes</a>下载。后者还可以下载其他植物的基因组</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">下载基因组</span></span><br><span class="line">wget ftp://ftp.ensemblgenomes.org/pub/plants/release-36/fasta/arabidopsis_thaliana/dna/Arabidopsis_thaliana.TAIR10.dna.toplevel.fa.gz</span><br><span class="line">gzip -d Arabidopsis_thaliana.TAIR10.dna.toplevel.fa.gz</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">构建核酸BLAST数据库</span></span><br><span class="line">makeblastdb -in Arabidopsis_thaliana.TAIR10.dna.toplevel.fa -dbtype nucl -out TAIR10 -parse_seqids</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">下载拟南芥protein数据</span></span><br><span class="line">wget ftp://ftp.ensemblgenomes.org/pub/plants/release-36/fasta/arabidopsis_thaliana/pep/Arabidopsis_thaliana.TAIR10.pep.all.fa.gz</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">构建蛋白BLAST数据库</span></span><br><span class="line">gzip -dArabidopsis_thaliana.TAIR10.pep.all.fa.gz</span><br><span class="line">makeblastdb -in  Arabidopsis_thaliana.TAIR10.pep.all.fa -dbtype prot -out TAIR10 -parse_seqids</span><br></pre></td></tr></table></figure>

<p>如果你从NCBI或者其他渠道下载了格式化过的数据库，那么可以用<code>blastdbcmd</code>去检索blast数据库，参数很多，常用就如下几个</p>
<ul>
<li>db string :  string表示数据库所在路径</li>
<li>dbtype string,: string在（guess, nucl, prot)中选择一个</li>
<li>检索相关参数<ul>
<li>-entry all 或 555, AC147927 或 gnl|dbname|tag’</li>
<li>-entry_batch 提供一个包含多个检索关键字的文件</li>
<li>-info 数据库基本信息</li>
</ul>
</li>
<li>输出格式 -outfmt %f %s %a %g …默认是%f</li>
<li>out 输出文件</li>
<li>show_blastdb_search_path: blast检索数据库路径</li>
</ul>
<p>使用案例</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看信息</span></span><br><span class="line">blastdbcmd -db TAIR10 -dbtype nucl -info</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">所有数据</span></span><br><span class="line">blastdbcmd -db TAIR10 -dbtype nucl -entry all | head</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">具体关键字，如GI号</span></span><br><span class="line">blastdbcmd -db TAIR10 -dbtype nucl -entry 3 | head</span><br></pre></td></tr></table></figure>

<p>还有其他有意思的参数，可以看帮助文件了解</p>
<h3 id="可选：BLAST安装和更新nr和nt库"><a href="#可选：BLAST安装和更新nr和nt库" class="headerlink" title="可选：BLAST安装和更新nr和nt库"></a>可选：BLAST安装和更新nr和nt库</h3><p>安装nt&#x2F;nr库需要先进行环境变量配置，在家目录下新建一个<code>.ncbirc</code>配置文件，然后添加如下内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">; 开始配置BLAST</span><br><span class="line">[BLAST]</span><br><span class="line">; 声明BLAST数据库安装位置</span><br><span class="line">BLASTDB=/home/xzg/Database/blast</span><br><span class="line">; Specifies the data sources to use for automatic resolution</span><br><span class="line">; for sequence identifiers</span><br><span class="line">DATA_LOADERS=blastdb</span><br><span class="line">; 蛋白序列数据库存本地位置</span><br><span class="line">BLASTDB_PROT_DATA_LOADER=/home/xzg/Database/blast/nr</span><br><span class="line">; 核酸数据库本地存放位置</span><br><span class="line">BLASTDB_NUCL_DATA_LOADER=/home/xzg/Database/blast/nt</span><br><span class="line">[WINDOW_MASKER]</span><br><span class="line">WINDOW_MASKER_PATH=/home/xzg/Database/blast/windowmasker</span><br></pre></td></tr></table></figure>

<p>配置好之后，使用BLAST+自带的update_blastdb.pl脚本下载nr和nt等库文件（不建议下载序列文件，一是因为后者文件更大，二是因为可以从库文件中提取序列blastdbcmd -db nr -dbtype prot -entry all -outfmt “%f” -out nr.fa ，最主要是建库需要花费很长时间），直接运行下列命令即可自动下载。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup time update_blastdb.pl nt nr &gt; log &amp;</span><br></pre></td></tr></table></figure>

<p>如果你不像通过<code>update_blastdb.pl</code>下载nr和nt等库文件，也可以是从ncbi上直接下载一系列nt&#x2F;nr.xx.tar.gz文件，然后解压缩即可，后续还可以用<code>update_blastdb.pl</code>进行数据更新。</p>
<p><strong>报错</strong>： 使用<code>update_blastdb.pl</code>更新和下载数据库时候出现模块未安装的问题。解决方法，首先用conda安装对应的模块，然后修改<code>update_blastdb.pl</code>的第一行，即shebang部分，以conda的perl替换，或者按照如下方法执行。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">perl `which update_blastdb.pl`</span><br></pre></td></tr></table></figure>

<p>下载过程中请确保网络状态良好，否则会出现<code>Downloading nt.00.tar.gz...Unable to close datastream</code>报错。</p>
<h3 id="第二步：选择blast工具"><a href="#第二步：选择blast工具" class="headerlink" title="第二步：选择blast工具"></a>第二步：选择blast工具</h3><p>根据不同的需求，比如说你用的序列是氨基酸还是核苷酸，你要查找的数据是核甘酸还是氨基酸，选择合适的blast工具。不同需求的对应关系可以见下图（来自biostars handbook）</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/2013053-7eda5a0afe83a170-60f9ffc04b8b4d66a567b7e0b20dfc69.png" alt="BLAST工具"></p>
<p>不同工具的应用范围虽然不同，但是基本参数都是一致的，学会<code>blastn</code>，基本上其他诸如<code>blastp</code>,<code>blastx</code>也都会了。</p>
<p>blastn的使用参数很多 <code>blastn [-h]</code> ，但是比较常用是如下几个</p>
<ul>
<li>-db : 数据库在本地的位置，或者是NCBI上数据库的类型,如 -db nr</li>
</ul>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/2013053-9013c614e8290e5d-ddd2b176db0a43b890c9e4fa69604281.png" alt="BLAST库"></p>
<ul>
<li><p>-query: 检索文件</p>
</li>
<li><p>-query_loc : 指定检索的位置</p>
</li>
<li><p>-strand： 搜索正义链还是反义链，还是都要</p>
</li>
<li><p>out : 输出文件</p>
</li>
<li><p>-remote： 可以用NCBI的远程数据库， 一般与 -db nr</p>
</li>
<li><p>-evalue 科学计数法，比如说1e3，定义期望值阈值。E值表明在随机的情况下，其它序列与目标序列相似度要大于这条显示的序列的可能性。 与S值有关，S值表示两序列的同源性，分值越高表明它们之间相似的程度越大</p>
<blockquote>
<p>E值总结： 1.E值适合于有一定长度，而且复杂度不能太低的序列。2. 当E值小于10-5时，表明两序列有较高的同源性，而不是因为计算错误。3. 当E值小于10-6时，表时两序列的同源性非常高，几乎没有必要再做确认。</p>
</blockquote>
</li>
<li><p>与<strong>联配计分</strong>相关参数： -gapopen，打开gap的代价；-gapextend， gap延伸的代价；-penalty：核酸错配的惩罚； -reward， 核酸正确匹配的奖励；</p>
</li>
<li><p>结果过滤：-perc_identity, 根据相似度</p>
</li>
</ul>
<p><strong>注</strong> BLAST还提供一个task参数，感觉很有用的样子，好像会针对任务进行优化速度。</p>
<h3 id="第三步：运行blast，调整输出格式。"><a href="#第三步：运行blast，调整输出格式。" class="headerlink" title="第三步：运行blast，调整输出格式。"></a>第三步：运行blast，调整输出格式。</h3><p>我随机找了一段序列进行检索</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &#x27;&gt;test&#x27; &gt; query.fa</span><br><span class="line">echo TGAAAGCAAGAAGAGCGTTTGGTGGTTTCTTAACAAATCATTGCAACTCCACAAGGCGCCTGTAATAGACAGCTTGTGCATGGAACTTGGTCCACAGTGCCCTACCACTGATGATGTTGATATCGGAAAGTGGGTTGCAAAAGCTGTTGATTGTTTGGTGATGACGCTAACAATCAAGCTCCTCTGGT &gt;&gt; query.fa</span><br></pre></td></tr></table></figure>

<p>用的是<code>blastn</code> 检索核酸数据库。最简单的用法就是提供数据库所在位置和需要检索的序列文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">blastn -db BLAST/TAIR10 -query query.fa</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">还可以指定检索序列的位置</span></span><br><span class="line">blastn -db BLAST/TAIR10 -query query.fa  -query_loc 20-100</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">或者使用远程数据库</span></span><br><span class="line">blastn -db nr -remote -query query.fa</span><br><span class="line">blastn -db nt -remote -query query.fa</span><br></pre></td></tr></table></figure>

<p>以上是默认输出，blast的<code>-outfmt</code>选项提供个性化的选择。一共有18个选择，默认是0。<br>     0 &#x3D; Pairwise,<br>     1 &#x3D; Query-anchored showing identities,<br>     2 &#x3D; Query-anchored no identities,<br>     3 &#x3D; Flat query-anchored showing identities,<br>     4 &#x3D; Flat query-anchored no identities,<br>     5 &#x3D; BLAST XML,<br>     6 &#x3D; Tabular,<br>     7 &#x3D; Tabular with comment lines,<br>     8 &#x3D; Seqalign (Text ASN.1),<br>     9 &#x3D; Seqalign (Binary ASN.1),<br>    10 &#x3D; Comma-separated values,<br>    11 &#x3D; BLAST archive (ASN.1),<br>    12 &#x3D; Seqalign (JSON),<br>    13 &#x3D; Multiple-file BLAST JSON,<br>    14 &#x3D; Multiple-file BLAST XML2,<br>    15 &#x3D; Single-file BLAST JSON,<br>    16 &#x3D; Single-file BLAST XML2,<br>    17 &#x3D; Sequence Alignment&#x2F;Map (SAM),<br>    18 &#x3D; Organism Report<br>其中6，7，10，17可以自定输出格式。默认是</p>
<blockquote>
<p>qaccver saccver pident length mismatch gapopen qstart qend sstart send evalue bitscore</p>
</blockquote>
<table>
<thead>
<tr>
<th>简写</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><strong>qaccver</strong></td>
<td>查询的AC版本（与此类似的还有qseqid,qgi,qacc,与序列命名有关）</td>
</tr>
<tr>
<td><strong>saccver</strong></td>
<td>目标的AC版本（于此类似的还有sseqid,sallseqid,sgi,sacc,sallacc,也是序列命名相关)</td>
</tr>
<tr>
<td><strong>pident</strong></td>
<td>完全匹配百分比 （响应的nident则是匹配数）</td>
</tr>
<tr>
<td><strong>length</strong></td>
<td>联配长度(另外slen表示查询序列总长度，qlen表示目标序列总长度)</td>
</tr>
<tr>
<td><strong>mismatch</strong></td>
<td>错配数目</td>
</tr>
<tr>
<td><strong>gapopen</strong></td>
<td>gap的数目</td>
</tr>
<tr>
<td><strong>qstart</strong></td>
<td>查询序列起始</td>
</tr>
<tr>
<td><strong>qstart</strong></td>
<td>查询序列结束</td>
</tr>
<tr>
<td><strong>sstart</strong></td>
<td>目标序列起始</td>
</tr>
<tr>
<td><strong>send</strong></td>
<td>目标序列结束</td>
</tr>
<tr>
<td><strong>evalue</strong></td>
<td>期望值</td>
</tr>
<tr>
<td><strong>bitscore</strong></td>
<td>Bit得分</td>
</tr>
<tr>
<td><strong>score</strong></td>
<td>原始得分</td>
</tr>
<tr>
<td>AC：</td>
<td>accession</td>
</tr>
</tbody></table>
<p>以格式7为实例进行输出，并且对在线数据库进行检索 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">blastn -task blastn -remote -db nr -query query.fa  -outfmt 7 -out query.txt</span><br><span class="line">head -n 15 query.txt</span><br></pre></td></tr></table></figure>

<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/2013053-22d43cfb51512b11-42a366f0ffd645a496bac9ef1f45c9a0.jpg" alt="BLAST BEST HIT"></p>
<p>如果想输入序列，增加对应的格式<code>qseq, sseq</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">blastn -query query.fa -db nr -outfmt <span class="string">&#x27; 6 qseqid sseqid pident length mismatch gapopen qstart qend sstart send qseq sseq evalue bitscore&#x27;</span></span><br></pre></td></tr></table></figure>

<p>对已有序列进行注释时常见的<strong>best hit only</strong>模式命令行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">blastn -query gene.fa -out gene.blast.txt -task megablast -db nt -num_threads 12 -evalue 1e-10 -best_hit_score_edge 0.05 -best_hit_overhang 0.25 -outfmt <span class="string">&quot;7 std stitle&quot;</span> -perc_identity 50 -max_target_seqs 1</span><br><span class="line"><span class="comment"># 参数详解</span></span><br><span class="line">-task megablast : 任务执行模式，可选有<span class="string">&#x27;blastn&#x27;</span> <span class="string">&#x27;blastn-short&#x27;</span> <span class="string">&#x27;dc-megablast&#x27;</span> <span class="string">&#x27;megablast&#x27;</span> <span class="string">&#x27;rmblastn&#x27;</span></span><br><span class="line">-best_hit_score_edge 0.05 :  Best Hit 算法的边界值，取值范围为0到0.5，系统推荐0.1</span><br><span class="line">-best_hit_overhang 0.25 : Best Hit 算法的阈值，取值范围为0到0.5，系统推荐0.1</span><br><span class="line">-perc_identity 50 : 相似度大于50</span><br><span class="line">-max_target_seqs 1 : 最多保留多少个联配</span><br></pre></td></tr></table></figure>

<p>仅仅看参数依旧无用，还需要知道BLAST的Best-Hits的过滤算法。假设一个序列存在两个match结果,A和B，无论A还是B，他们的HSP（High-scoring Segment Pair, 没有gap时的最高联配得分）一定要高于<code>best_hit_overhang</code>，否则被过滤。如果满足下列条件则保留A</p>
<ul>
<li>evalue(A) &gt;&#x3D; evalue (B)</li>
<li>score(A)&#x2F;length(A) &lt; (1.0-score_edge)*score(B)&#x2F;length(B)</li>
</ul>
<h2 id="搭建网页BLAST"><a href="#搭建网页BLAST" class="headerlink" title="搭建网页BLAST"></a>搭建网页BLAST</h2><p>曾经的BLAST安装后提供wwwblast用于构建本地的BLAST网页工具，但是BLAST+没有提供这个工具，好在BLAST足够出名，也就有人给它开发网页版工具。如<a target="_blank" rel="noopener" href="http://indra.mullins.microbiol.washington.edu/blast/viroblast.php">viroBLAST</a>和<a target="_blank" rel="noopener" href="http://www.sequenceserver.com/">Sequenceserver</a>, 目前来看似乎后者更受人欢迎。</p>
<p>有root安装起来非常的容易</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ruby ncbi-blast+ ruby-dev rubygems-integration npm</span><br><span class="line">sudo gem install sequenceserver</span><br></pre></td></tr></table></figure>

<p>数据库准备,前面步骤已经下载了拟南芥基因组的FASTA格式数据</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sequenceserver -d /到/之前/建立/BLAST/文件路径</span><br></pre></td></tr></table></figure>

<p>然后就可以打开浏览器输入IP:端口号使用了。</p>
<h3 id="Sequenceserver高级用法"><a href="#Sequenceserver高级用法" class="headerlink" title="Sequenceserver高级用法"></a>Sequenceserver高级用法</h3><p><strong>开机启动</strong>：</p>
<p>新建一个<code>/etc/systemd/system/sequenceserver.service</code>文件，添加如下内容。注意修改<strong>ExecStart</strong>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=SequenceServer server daemon</span><br><span class="line">Documentation=<span class="string">&quot;file://sequenceserver --help&quot;</span> <span class="string">&quot;http://sequenceserver.com/doc&quot;</span></span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">User=seqservuser</span><br><span class="line">ExecStart=/path/to/bin/sequenceserver -c /path/to/sequenceserver.conf</span><br><span class="line">KillMode=process</span><br><span class="line">Restart=on-failure</span><br><span class="line">RestartSec=42s</span><br><span class="line">RestartPreventExitStatus=255</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>

<p>然后重新加载systemctl</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## let systemd know about changed files</span></span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line"><span class="comment">## enable service for automatic start on boot</span></span><br><span class="line">systemctl <span class="built_in">enable</span> sequenceserver.service</span><br><span class="line"><span class="comment">## start service immediately</span></span><br><span class="line">systemctl start sequenceserver.service</span><br></pre></td></tr></table></figure>

<p><strong>nginx反向代理</strong>：我承认没有基本的nginx的知识根本搞不定这一步，所以我建议组内使用就不要折腾这个。简单的说就是在nginx的配置文件的server部分添加如下内容即可。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">location /sequenceserver/ &#123;</span><br><span class="line">    root /home/priyam/sequenceserver/public/dist;</span><br><span class="line">    proxy_pass http://localhost:4567/;</span><br><span class="line">    proxy_intercept_errors on;</span><br><span class="line">    proxy_connect_timeout 8;</span><br><span class="line">    proxy_read_timeout 180;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>假如你有docker的话</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ubuntu</span></span><br><span class="line">docker run --<span class="built_in">rm</span> -itp 4567:4567 -v /path-to-database-dir:/db wurmlab/sequenceserver:1.0.11</span><br><span class="line"><span class="comment"># centos</span></span><br><span class="line">docker run --privileged --<span class="built_in">rm</span> -itp 4567:4567 -v /path-to-database-dir:/db wurmlab/sequenceserver:1.0.11</span><br></pre></td></tr></table></figure>

<p>注意，你得在宿主机器上<code> /path-to-database-dir</code>建好blast索引，或者用<code>docker exec -it  docker容器名 /bin/bash</code> 进入到容器里，用<code>sequenceserver -d db &amp;</code>运行</p>
<p>参考资料：<a target="_blank" rel="noopener" href="http://www.sequenceserver.com/doc/">http://www.sequenceserver.com/doc/</a></p>
<h2 id="术语列表"><a href="#术语列表" class="headerlink" title="术语列表"></a>术语列表</h2><p>引自<a target="_blank" rel="noopener" href="https://www.ncbi.nlm.nih.gov/books/NBK62051/">BLAST Glossary</a></p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a target="_blank" rel="noopener" href="http://blog.shenwei.me/local-blast-installation/">Linux系统中NCBI BLAST+本地化教程</a></li>
<li><a target="_blank" rel="noopener" href="https://www.ncbi.nlm.nih.gov/books/NBK279690/">BLAST Command Line Applications User Manual</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://xuzhougeng.top/2019/09/02/%E8%BF%99%E5%8F%AF%E8%83%BD%E6%98%AF%E6%9C%80%E5%85%A8%E6%9C%80%E5%A5%BD%E7%9A%84BLAST%E6%95%99%E7%A8%8B-It-maybe-the-best-BLAST-tutorial/" data-id="clm4a30uj00l0e6nkgjfjae3v" data-title="这可能是最全最好的BLAST教程" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%BA%8F%E5%88%97%E6%AF%94%E5%AF%B9/" rel="tag">序列比对</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-「JCVI教程」使用JCVI根据CDS的BLAST结果绘制共线性图-Analyze-synteny-base-on-CDS-blast-using-JCVI" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/09/02/%E3%80%8CJCVI%E6%95%99%E7%A8%8B%E3%80%8D%E4%BD%BF%E7%94%A8JCVI%E6%A0%B9%E6%8D%AECDS%E7%9A%84BLAST%E7%BB%93%E6%9E%9C%E7%BB%98%E5%88%B6%E5%85%B1%E7%BA%BF%E6%80%A7%E5%9B%BE-Analyze-synteny-base-on-CDS-blast-using-JCVI/" class="article-date">
  <time class="dt-published" datetime="2019-09-02T12:07:51.790Z" itemprop="datePublished">2019-09-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%94%9F%E4%BF%A1%E8%BD%AF%E4%BB%B6%E5%B7%A5%E5%85%B7%E7%AE%B1/">生信软件工具箱</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/09/02/%E3%80%8CJCVI%E6%95%99%E7%A8%8B%E3%80%8D%E4%BD%BF%E7%94%A8JCVI%E6%A0%B9%E6%8D%AECDS%E7%9A%84BLAST%E7%BB%93%E6%9E%9C%E7%BB%98%E5%88%B6%E5%85%B1%E7%BA%BF%E6%80%A7%E5%9B%BE-Analyze-synteny-base-on-CDS-blast-using-JCVI/">「JCVI教程」使用JCVI根据CDS的BLAST结果绘制共线性图</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <blockquote>
<p>这是唐海宝老师GitHub上的<a target="_blank" rel="noopener" href="https://github.com/tanghaibao/jcvi">JCVI</a>工具的非官方说明书。<br>该工具集的功能非常多，但是教程资料目前看起来并不多，因此为了能让更多人用上那么好用的工具，我就一边探索，一边写教程</p>
</blockquote>
<p>这一篇文章教大家如何利用JCVI里面的工具绘制点图，展现两个物种之间的共线性关系。</p>
<p>在分析之前，你需要从<a target="_blank" rel="noopener" href="https://genome.jgi.doe.gov/">PhytozomeV11</a> 下载A.thaliana和Alyrata的CDS序列，保证文件夹里有如下内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Alyrata_384_v2.1.cds.fa.gz        Athaliana_167_TAIR10.cds.fa.gz</span><br><span class="line">Alyrata_384_v2.1.gene.gff3.gz  Athaliana_167_TAIR10.gene.gff3.gz</span><br></pre></td></tr></table></figure>

<h2 id="准备最长CDS和BED文件"><a href="#准备最长CDS和BED文件" class="headerlink" title="准备最长CDS和BED文件"></a>准备最长CDS和BED文件</h2><p>我们在做CDS相互比对的时候只需要有每个基因最长的转录本即可，有两种方法可以实现</p>
<h3 id="方法1：自己写脚本"><a href="#方法1：自己写脚本" class="headerlink" title="方法1：自己写脚本"></a>方法1：自己写脚本</h3><p>我用我写的一个脚本<code>get_the_longest_transcripts.py</code>提取每个基因的最长转录本,见 <a target="_blank" rel="noopener" href="https://www.jianshu.com/p/8373e50722f6">基因组共线性工具MCScanX使用说明</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zcat Alyrata_384_v2.1.gene.gff3.gz | python ~/scripts/python/get_the_longest_transcripts.py &gt; aly_lst_gene.txt</span><br><span class="line">zcat Athaliana_167_TAIR10.gene.gff3.gz | python ~/scripts/python/get_the_longest_transcripts.py  &gt; ath_lst_gene.txt</span><br></pre></td></tr></table></figure>

<p>其中<code>xxx_lst_gene.txt</code>的格式如下, 第一列是基因名，第二列是mRNA编号，后面几列是位置信息。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">head</span> ath_lst_gene.txt</span><br><span class="line">AT4G19470.TAIR10	AT4G19470.1.TAIR10	Chr4	10612993	10614339	-</span><br><span class="line">AT5G43860.TAIR10	AT5G43860.1.TAIR10	Chr5	17630450	17632312	+</span><br><span class="line">AT1G68650.TAIR10	AT1G68650.1.TAIR10	Chr1	25775741	25777874	+</span><br><span class="line">AT1G28050.TAIR10	AT1G28050.1.TAIR10	Chr1	9775528	9777810	-</span><br><span class="line">AT3G59880.TAIR10	AT3G59880.1.TAIR10	Chr3	22120969	22121700	+</span><br><span class="line">AT1G22030.TAIR10	AT1G22030.1.TAIR10	Chr1	7759164	7760556	-</span><br><span class="line">AT5G24330.TAIR10	AT5G24330.1.TAIR10	Chr5	8295147	8297068	-</span><br><span class="line">AT5G43990.TAIR10	AT5G43990.2.TAIR10	Chr5	17697889	17702005	+</span><br><span class="line">AT1G11410.TAIR10	AT1G11410.1.TAIR10	Chr1	3841286	3844432	+</span><br><span class="line">AT4G32890.TAIR10	AT4G32890.1.TAIR10	Chr4	15875470	15876762	+</span><br></pre></td></tr></table></figure>

<p>由于基因名和mRNA编号里有在提取CDS不需要的内容，因此要进行删除</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&#x27;s/\.v2\.1//g&#x27;</span> aly_lst_gene.txt</span><br><span class="line">sed -i <span class="string">&#x27;s/\.TAIR10//g&#x27;</span> ath_lst_gene.txt</span><br></pre></td></tr></table></figure>

<p>之后我们就可以根据第二列进行提取CDS</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">seqkit grep -f  &lt;(<span class="built_in">cut</span> -f 2 ath_lst_gene.txt ) Athaliana_167_TAIR10.cds.fa.gz &gt; ath.cds</span><br><span class="line">seqkit grep -f  &lt;(<span class="built_in">cut</span> -f 2 aly_lst_gene.txt ) Alyrata_384_v2.1.cds.fa.gz &gt; aly.cds</span><br></pre></td></tr></table></figure>

<p>提取的CDS编号里面也有一些不需要的内容，所以也要删除</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&#x27;s/\.t.*//&#x27;</span> aly.cds</span><br><span class="line">sed -i <span class="string">&#x27;s/\..*//&#x27;</span> ath.cds</span><br></pre></td></tr></table></figure>

<p>此外还需要基因的位置信息的bed文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">awk <span class="string">&#x27;&#123;print $3&quot;\t&quot;$4&quot;\t&quot;$5&quot;\t&quot;$1&quot;\t0\t&quot;$6&#125;&#x27;</span> ath_lst_gene.txt | <span class="built_in">sort</span> -k4,4V &gt; ath.bed</span><br><span class="line">awk <span class="string">&#x27;&#123;print $3&quot;\t&quot;$4&quot;\t&quot;$5&quot;\t&quot;$1&quot;\t0\t&quot;$6&#125;&#x27;</span> aly_lst_gene.txt | <span class="built_in">sort</span> -k4,4V &gt; aly.bed</span><br></pre></td></tr></table></figure>

<h3 id="基于JCVI工具集"><a href="#基于JCVI工具集" class="headerlink" title="基于JCVI工具集"></a>基于JCVI工具集</h3><p>当然也可以参考<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/7ccc911c9273">「JCVI教程」如何基于编码序列或蛋白序列进行共线性分析</a>来提取bed和cds序列，不需要用到我写的脚本。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python -m jcvi.formats.gff bed --<span class="built_in">type</span>=mRNA --key=Name Athaliana_167_TAIR10.gene.gff3.gz  &gt; ath.bed</span><br><span class="line">python -m jcvi.formats.gff bed --<span class="built_in">type</span>=mRNA --key=Name Alyrata_384_v2.1.gene.gff3.gz &gt; aly.bed</span><br></pre></td></tr></table></figure>

<p>对bed文件中的基因进行去重</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python -m jcvi.formats.bed <span class="built_in">uniq</span> ath.bed</span><br><span class="line">python -m jcvi.formats.bed <span class="built_in">uniq</span> aly.bed</span><br></pre></td></tr></table></figure>

<p>这一步会得到<code>aly.uniq.bed</code>和<code>ath.uniq.bed</code>, 我们将其覆盖原文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> ath.uniq.bed ath.bed</span><br><span class="line"><span class="built_in">mv</span> aly.uniq.bed aly.bed</span><br></pre></td></tr></table></figure>

<p>根据bed文件提取cds里的序列</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Athaliana</span></span><br><span class="line">seqkit grep -f &lt;(<span class="built_in">cut</span> -f 4 ath.bed ) Athaliana_167_TAIR10.cds.fa.gz | seqkit <span class="built_in">seq</span> -i &gt; ath.cds</span><br><span class="line"><span class="comment"># Alyrata</span></span><br><span class="line">seqkit grep -f &lt;(<span class="built_in">cut</span> -f 4 aly.bed )  Alyrata_384_v2.1.cds.fa.gz | seqkit <span class="built_in">seq</span> -i  &gt; aly.cds</span><br></pre></td></tr></table></figure>

<hr>
<p>无论是哪种方法，请保证最后有以下四个文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">ls</span> ???.???</span><br><span class="line">aly.bed  aly.cds  ath.bed  ath.cds</span><br></pre></td></tr></table></figure>

<h2 id="BLAST比对"><a href="#BLAST比对" class="headerlink" title="BLAST比对"></a>BLAST比对</h2><p>相对于上一步，这一步其实非常简单了</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">makeblastdb -<span class="keyword">in</span> ath.cds -out db/ath -dbtype nucl</span><br><span class="line">blastn -num_threads 20  -query aly.cds -db db/ath -outfmt 6 -evalue 1e-5 -num_alignments 5 &gt; aly_ath.blast</span><br></pre></td></tr></table></figure>

<p>用<code>jcvi.compara.blastfilter </code>对结果进行过滤</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m jcvi.compara.blastfilter --no_strip_names aly_ath.blast --sbed ath.bed --qbed aly.bed</span><br></pre></td></tr></table></figure>

<p>运行过程中有如下输出信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">19:59:15 [base] Load file `aly.bed`</span><br><span class="line">19:59:16 [base] Load file `ath.bed`</span><br><span class="line">19:59:16 [blastfilter] Load BLAST file `aly_ath.blast` (total 49887 lines)</span><br><span class="line">19:59:16 [base] Load file `aly_ath.blast`</span><br><span class="line">19:59:16 [blastfilter] running the cscore filter (cscore&gt;=0.70) ..</span><br><span class="line">19:59:16 [blastfilter] after filter (42023-&gt;26531) ..</span><br><span class="line">19:59:16 [blastfilter] running the <span class="built_in">local</span> dups filter (tandem_Nmax=10) ..</span><br><span class="line">19:59:16 [blastfilter] after filter (26531-&gt;24242) ..</span><br></pre></td></tr></table></figure>

<p>最后输出<code>aly_ath.blast.filtered</code>用于做图</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m jcvi.graphics.blastplot aly_ath.blast.filtered --sbed ath.bed --qbed aly.bed</span><br></pre></td></tr></table></figure>

<p>最后点图如下</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/2013053-6fbdb7b7cd866643-8edb0016df784aca86abfb4de1f7b48f.png" alt="点图"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://xuzhougeng.top/2019/09/02/%E3%80%8CJCVI%E6%95%99%E7%A8%8B%E3%80%8D%E4%BD%BF%E7%94%A8JCVI%E6%A0%B9%E6%8D%AECDS%E7%9A%84BLAST%E7%BB%93%E6%9E%9C%E7%BB%98%E5%88%B6%E5%85%B1%E7%BA%BF%E6%80%A7%E5%9B%BE-Analyze-synteny-base-on-CDS-blast-using-JCVI/" data-id="clm4a30kk004le6nk1076an05" data-title="「JCVI教程」使用JCVI根据CDS的BLAST结果绘制共线性图" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96-JCVI/" rel="tag">可视化 | JCVI</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-「JCVI教程」使用JCVI进行基因组共线性分析(中)-Comparative-genomics-using-JCVI-part-two" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/09/02/%E3%80%8CJCVI%E6%95%99%E7%A8%8B%E3%80%8D%E4%BD%BF%E7%94%A8JCVI%E8%BF%9B%E8%A1%8C%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90(%E4%B8%AD)-Comparative-genomics-using-JCVI-part-two/" class="article-date">
  <time class="dt-published" datetime="2019-09-02T11:36:30.920Z" itemprop="datePublished">2019-09-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%94%9F%E4%BF%A1%E8%BD%AF%E4%BB%B6%E5%B7%A5%E5%85%B7%E7%AE%B1/">生信软件工具箱</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/09/02/%E3%80%8CJCVI%E6%95%99%E7%A8%8B%E3%80%8D%E4%BD%BF%E7%94%A8JCVI%E8%BF%9B%E8%A1%8C%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90(%E4%B8%AD)-Comparative-genomics-using-JCVI-part-two/">「JCVI教程」使用JCVI进行基因组共线性分析(中)</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>在<a href="/archives/Comparative-genomics-using-JCVI-part-one">「JCVI教程」使用JCVI进行基因组共线性分析(上)</a>还是有一个尴尬的事情，就是只用到两个物种，不能展示出JCVI画图的方便之处，因此这里参考<a target="_blank" rel="noopener" href="https://github.com/tanghaibao/jcvi/wiki/MCscan-(Python-version)">https://github.com/tanghaibao/jcvi/wiki/MCscan-(Python-version)</a>的分析，只不过画图部分拓展下思路。</p>
<p>首先要运行如下代码获取目的数据</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">python -m jcvi.apps.fetch phytozome Vvinifera,Ppersica,Tcacao</span><br><span class="line">python -m jcvi.formats.gff bed --<span class="built_in">type</span>=mRNA --key=Name Vvinifera_145_gene.gff3.gz -o grape.bed</span><br><span class="line">python -m jcvi.formats.gff bed --<span class="built_in">type</span>=mRNA --key=Name Ppersica_139_gene.gff3.gz -o peach.bed</span><br><span class="line">python -m jcvi.formats.gff bed --<span class="built_in">type</span>=mRNA --key=Name Tcacao_233_gene.gff3.gz -o cacao.bed</span><br><span class="line">python -m jcvi.formats.fasta format --sep=<span class="string">&quot;|&quot;</span> Vvinifera_145_cds.fa.gz grape.cds</span><br><span class="line">python -m jcvi.formats.fasta format --sep=<span class="string">&quot;|&quot;</span> Ppersica_139_cds.fa.gz peach.cds</span><br><span class="line">python -m jcvi.formats.fasta format --sep=<span class="string">&quot;|&quot;</span> Tcacao_233_cds.fa.gz cacao.cds</span><br><span class="line"><span class="comment"># find ortholog</span></span><br><span class="line">python -m jcvi.compara.catalog ortholog grape peach --cscore=.99</span><br><span class="line">python -m jcvi.compara.catalog ortholog peach cacao --cscore=.99</span><br><span class="line"><span class="comment"># build .simpe</span></span><br><span class="line">python -m jcvi.compara.synteny screen --minspan=30 --simple grape.peach.anchors grape.peach.anchors.new </span><br><span class="line">python -m jcvi.compara.synteny screen --minspan=30 --simple peach.cacao.anchors peach.cacao.anchors.new</span><br></pre></td></tr></table></figure>

<p>然后按照教程的配置文件进行画图</p>
<p>layout文件内容如下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># y, xstart, xend, rotation, color, label, va,  bed</span></span><br><span class="line"> .7,     .2,    .4,      45,      , Grape, top, grape.bed</span><br><span class="line"> .5,     .2,    .8,       0,      , Peach, top, peach.bed</span><br><span class="line"> .7,     .4,    .8,     -45,      , Cacao, bottom, cacao.bed</span><br><span class="line"><span class="comment"># edges</span></span><br><span class="line">e, 0, 1, grape.peach.anchors.simple</span><br><span class="line">e, 1, 2, peach.cacao.anchors.simple</span><br></pre></td></tr></table></figure>

<p>seqids文件内容如下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chr1,chr2,chr3,chr4,chr5,chr6,chr7,chr8,chr9,chr10,chr11,chr12,chr13,chr14,chr15,chr16,chr17,chr18,chr19</span><br><span class="line">scaffold_1,scaffold_2,scaffold_3,scaffold_4,scaffold_5,scaffold_6,scaffold_7,scaffold_8</span><br><span class="line">scaffold_1,scaffold_2,scaffold_3,scaffold_4,scaffold_5,scaffold_6,scaffold_7,scaffold_8,scaffold_9,scaffold_10r</span><br></pre></td></tr></table></figure>

<p>运行<code>python -m jcvi.graphics.karyotype seqids layout</code>会得到如下结果</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/2013053-9297f82212a67096-b45b77baf0e442168bef05dae6b30bb5.png" alt="三个物种的共线性图"></p>
<p>我就在思考一个问题如何让他形成一个三角形。经过一波三角运算和不断尝试，我定义了如下的layout</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># y, xstart, xend, rotation, color, label, va,  bed</span></span><br><span class="line"> .5,      0.025,    0.625,      60,      , Grape, top, grape.bed</span><br><span class="line"> .2,      0.2,    .8,       0,      , Peach, top, peach.bed</span><br><span class="line"> .5,     0.375,    0.975,     -60,      , Cacao, top, cacao.bed</span><br><span class="line"><span class="comment"># edges</span></span><br><span class="line">e, 0, 1, grape.peach.anchors.simple</span><br><span class="line">e, 1, 2, peach.cacao.anchors.simple</span><br></pre></td></tr></table></figure>

<p>那么效果怎么样呢？运行<code>python -m jcvi.graphics.karyotype seqids layout</code>吧</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/2013053-3a686b648bf45bb6-602270724f8c483f8a43b19d80ae34b8.png" alt="三角形"></p>
<p>当然这里只展示了，grape和peach, peach和cacao之间的共线性，我又想着能不能加上grape和caocao呢？我尝试着运行下面的代码，</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python -m jcvi.compara.catalog ortholog grape cacao --cscore=.99</span><br><span class="line">python -m jcvi.compara.synteny screen --minspan=30 --simple grape.cacao.anchors grape.cacao.anchors.new</span><br></pre></td></tr></table></figure>

<p>并继续修改了layout</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># y, xstart, xend, rotation, color, label, va,  bed</span></span><br><span class="line"> .5,      0.025,    0.625,      60,      , Grape, top, grape.bed</span><br><span class="line"> .2,      0.2,    .8,       0,      , Peach, top, peach.bed</span><br><span class="line"> .5,     0.375,    0.975,     -60,      , Cacao, top, cacao.bed</span><br><span class="line"><span class="comment"># edges</span></span><br><span class="line">e, 0, 1, grape.peach.anchors.simple</span><br><span class="line">e, 1, 2, peach.cacao.anchors.simple</span><br><span class="line">e, 0, 2, grape.cacao.anchors.simple</span><br></pre></td></tr></table></figure>

<p>运行<code>python -m jcvi.graphics.karyotype seqids layout</code>会得到如下结果</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/2013053-6577c38e1c3bd97e-b6b6f46a01a447208846c9caca202ddc.png" alt="awesome"></p>
<p>我觉得给我一点时间，我也能用JCVI画出下面的图了</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/2013053-2bcbafc0ba133b15-b59d4a500a284516a7d9068d502fbfa5.png" alt="amazing"></p>
<blockquote>
<p>图片来自于<a target="_blank" rel="noopener" href="https://science.sciencemag.org/content/345/6199/950">https://science.sciencemag.org/content/345/6199/950</a></p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://xuzhougeng.top/2019/09/02/%E3%80%8CJCVI%E6%95%99%E7%A8%8B%E3%80%8D%E4%BD%BF%E7%94%A8JCVI%E8%BF%9B%E8%A1%8C%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90(%E4%B8%AD)-Comparative-genomics-using-JCVI-part-two/" data-id="clm4a30km004re6nk0wpq02lp" data-title="「JCVI教程」使用JCVI进行基因组共线性分析(中)" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96-JCVI/" rel="tag">可视化 | JCVI</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-「JCVI教程」使用JCVI进行基因组共线性分析(上)-Comparative-genomics-using-JCVI-part-one" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/09/02/%E3%80%8CJCVI%E6%95%99%E7%A8%8B%E3%80%8D%E4%BD%BF%E7%94%A8JCVI%E8%BF%9B%E8%A1%8C%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90(%E4%B8%8A)-Comparative-genomics-using-JCVI-part-one/" class="article-date">
  <time class="dt-published" datetime="2019-09-02T11:19:20.641Z" itemprop="datePublished">2019-09-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%94%9F%E4%BF%A1%E8%BD%AF%E4%BB%B6%E5%B7%A5%E5%85%B7%E7%AE%B1/">生信软件工具箱</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/09/02/%E3%80%8CJCVI%E6%95%99%E7%A8%8B%E3%80%8D%E4%BD%BF%E7%94%A8JCVI%E8%BF%9B%E8%A1%8C%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90(%E4%B8%8A)-Comparative-genomics-using-JCVI-part-one/">「JCVI教程」使用JCVI进行基因组共线性分析(上)</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>本教程借鉴<a target="_blank" rel="noopener" href="https://github.com/tanghaibao/jcvi/wiki/MCscan-(Python-version)">https://github.com/tanghaibao/jcvi/wiki/MCscan-(Python-version)</a>.</p>
<p>我们先从<a target="_blank" rel="noopener" href="http://plants.ensembl.org/index.html">http://plants.ensembl.org/index.html</a>选择两个物种做分析, 这里选择的就是前两个物种，也就是拟南芥和水稻（得亏没有小麦和玉米）</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/2013053-059b230b0eb3a708-f69baf26be4f4cf984dc6b59b71caa6f.png" alt="选择物种"></p>
<p>我们下载它的GFF文件，cdna序列和蛋白序列</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Athaliana</span></span><br><span class="line">wget ftp://ftp.ensemblgenomes.org/pub/plants/release-44/fasta/arabidopsis_thaliana/cdna/Arabidopsis_thaliana.TAIR10.cdna.all.fa.gz</span><br><span class="line">wget ftp://ftp.ensemblgenomes.org/pub/plants/release-44/fasta/arabidopsis_thaliana/pep/Arabidopsis_thaliana.TAIR10.pep.all.fa.gz</span><br><span class="line">wget ftp://ftp.ensemblgenomes.org/pub/plants/release-44/gff3/arabidopsis_thaliana/Arabidopsis_thaliana.TAIR10.44.gff3.gz</span><br><span class="line"><span class="comment">#Osativa</span></span><br><span class="line">wget ftp://ftp.ensemblgenomes.org/pub/plants/release-44/fasta/oryza_sativa/cdna/Oryza_sativa.IRGSP-1.0.cdna.all.fa.gz</span><br><span class="line">wget ftp://ftp.ensemblgenomes.org/pub/plants/release-44/fasta/oryza_sativa/pep/Oryza_sativa.IRGSP-1.0.pep.all.fa.gz</span><br><span class="line">wget ftp://ftp.ensemblgenomes.org/pub/plants/release-44/gff3/oryza_sativa/Oryza_sativa.IRGSP-1.0.44.gff3.gz</span><br></pre></td></tr></table></figure>

<p>保证要有6个文件以便下游分析</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">ls</span></span><br><span class="line">Arabidopsis_thaliana.TAIR10.44.gff3.gz      Arabidopsis_thaliana.TAIR10.pep.all.fa.gz  Oryza_sativa.IRGSP-1.0.cdna.all.fa.gz</span><br><span class="line">Arabidopsis_thaliana.TAIR10.cdna.all.fa.gz  Oryza_sativa.IRGSP-1.0.44.gff3.gz          Oryza_sativa.IRGSP-1.0.pep.all.fa.gz</span><br></pre></td></tr></table></figure>

<p>我们分析只需要用到每个基因最长的转录本就行，之前我用的是自己写的脚本，但其实我发现jcvi其实可以做到这件事情</p>
<p>先将gff转成bed格式，</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python -m jcvi.formats.gff bed --<span class="built_in">type</span>=mRNA --key=transcript_id Arabidopsis_thaliana.TAIR10.44.gff3.gz &gt; ath.bed</span><br><span class="line">python -m jcvi.formats.gff bed --<span class="built_in">type</span>=mRNA --key=transcript_id Oryza_sativa.IRGSP-1.0.44.gff3.gz &gt; osa.bed</span><br></pre></td></tr></table></figure>

<p>然后将bed进行去重复</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python -m jcvi.formats.bed <span class="built_in">uniq</span> ath.bed</span><br><span class="line">python -m jcvi.formats.bed <span class="built_in">uniq</span> osa.bed</span><br></pre></td></tr></table></figure>

<p>最后我们得到了<code>ath.uniq.bed</code>和<code>osa.uniq.bed</code>, 根据bed文件第4列就可以用于提取cds序列和蛋白序列。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Athaliana</span></span><br><span class="line">seqkit grep -f &lt;(<span class="built_in">cut</span> -f 4 ath.uniq.bed ) Arabidopsis_thaliana.TAIR10.cdna.all.fa.gz | seqkit <span class="built_in">seq</span> -i &gt; ath.cds</span><br><span class="line">seqkit grep -f &lt;(<span class="built_in">cut</span> -f 4 ath.uniq.bed ) Arabidopsis_thaliana.TAIR10.pep.all.fa.gz | seqkit <span class="built_in">seq</span> -i &gt; ath.pep </span><br><span class="line"><span class="comment"># Osativa</span></span><br><span class="line">seqkit grep -f &lt;(<span class="built_in">cut</span> -f 4 osa.uniq.bed )  Oryza_sativa.IRGSP-1.0.cdna.all.fa.gz | seqkit <span class="built_in">seq</span> -i  &gt; osa.cds</span><br><span class="line">seqkit grep -f &lt;(<span class="built_in">cut</span> -f 4 osa.uniq.bed ) Oryza_sativa.IRGSP-1.0.pep.all.fa.gz | seqkit <span class="built_in">seq</span> -i  &gt; osa.pep</span><br></pre></td></tr></table></figure>

<blockquote>
<p>这里用到的seqkit建议学习，非常好用</p>
</blockquote>
<p>下面使用<code>python -m jcvi.compara.catalog ortholog</code>进行共线性分析，这是一个非常行云流水的过程（除非你报错）</p>
<p> 新建一个文件夹，方便在报错的时候，把全部都给删了，</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p cds &amp;&amp; <span class="built_in">cd</span> cds</span><br><span class="line"><span class="built_in">ln</span> -s ../ath.cds ath.cds</span><br><span class="line"><span class="built_in">ln</span> -s ../ath.uniq.bed ath.bed</span><br><span class="line"><span class="built_in">ln</span> -s ../osa.cds osa.cds</span><br><span class="line"><span class="built_in">ln</span> -s ../osa.uniq.bed osa.bed</span><br></pre></td></tr></table></figure>

<p>运行代码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m jcvi.compara.catalog ortholog --no_strip_names ath osa</span><br></pre></td></tr></table></figure>

<p>输出结果如下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">ls</span> ath.osa.*</span><br><span class="line">ath.osa.anchors  ath.osa.last  ath.osa.last.filtered  ath.osa.lifted.anchors  ath.osa.pdf</span><br></pre></td></tr></table></figure>

<p>其中我们最感兴趣都是pdf结果，不出意外没啥共线性。</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/2013053-56088901d7e91371-898e264074c8449c88c7e8ed15be6dc9.png" alt="共线性结果"></p>
<p>我们还可以用蛋白序列做共线性分析</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在之前输出cds,pep都文件夹操作</span></span><br><span class="line"><span class="built_in">mkdir</span> -p pep &amp;&amp; <span class="built_in">cd</span> pep</span><br><span class="line"><span class="built_in">ln</span> -s ../ath.pep ath.pep</span><br><span class="line"><span class="built_in">ln</span> -s ../ath.uniq.bed ath.bed</span><br><span class="line"><span class="built_in">ln</span> -s ../osa.pep osa.pep</span><br><span class="line"><span class="built_in">ln</span> -s ../osa.uniq.bed osa.bed</span><br></pre></td></tr></table></figure>

<p>运行代码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m jcvi.compara.catalog ortholog --dbtype prot --no_strip_names ath osa</span><br></pre></td></tr></table></figure>

<blockquote>
<p>我之前以为他不可以基于蛋白序列分析，幸亏有人提醒。</p>
</blockquote>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/2013053-9baff92ee2bb1c54-7fb4195014d945d28d6c0fd8fb8515a5.png" alt="蛋白共线性"></p>
<p>你会发现这是一个自动化分析流程，我们只是提供了4个文件，它就完成了一些列事情。它生成的文件里除了PDF外，其他还有啥用呢？</p>
<ul>
<li>ath.osa.last: 基于LAST的比对结果</li>
<li>ath.osa.last.filtered: LAST的比对结果过滤串联重复和低分比对</li>
<li>ath.osa.anchors: 高质量的共线性区块</li>
<li>ath.osa.lifted.anchors:增加了额外的锚点，形成最终的共线性区块</li>
</ul>
<p>anchors文件特别有用，之后会写一篇介绍如何利用他进行可视化，这里介绍它的格式。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">###</span></span><br><span class="line">AT1G28395.5     Os01t0238800-02 66</span><br><span class="line">AT1G28440.1     Os01t0239700-02 1360</span><br><span class="line">AT1G28480.1     Os01t0241400-01 136</span><br><span class="line">AT1G28510.1     Os01t0242300-01 241</span><br><span class="line"><span class="comment">###</span></span><br><span class="line">AT1G11100.3     Os01t0779400-01 943</span><br><span class="line">AT1G11125.1     Os01t0779800-01 52</span><br><span class="line">AT1G11160.2     Os01t0780400-02 535</span><br><span class="line">AT1G11180.1     Os01t0780500-01 483</span><br><span class="line">AT1G11330.2     Os01t0784700-00 742</span><br><span class="line">AT1G11360.1     Os01t0783500-01 305</span><br><span class="line">AT1G11540.2     Os01t0786800-01 422</span><br><span class="line">AT1G11570.3     Os01t0788200-01 162</span><br><span class="line">AT1G11580.2     Os01t0788400-01 550</span><br><span class="line">AT1G11630.1     Os01t0793200-01 321</span><br></pre></td></tr></table></figure>

<p>每个共线性区块以<code>###</code>进行分隔, 第一列是检索的基因，第二列是被检索的基因，第三列则是两个序列的BLAST的bit score,值越大可靠性越高。</p>
<hr>
<p>用水稻和拟南芥进行了比较之后，发现后面基本上也没啥可以分析了。因此下面基于<a href="/archives/Analyze-synteny-base-on-CDS-blast-using-JCVI">「JCVI教程」如何基于物种的CDS的blast结果绘制点图(dotplot)</a>得到的cds和bed文件进行分析。</p>
<p>之前已经得到了如下四个文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> ???.???</span><br><span class="line">aly.bed  aly.cds  ath.bed  ath.cds</span><br></pre></td></tr></table></figure>

<p>所以我们只要运行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m jcvi.compara.catalog ortholog --no_strip_names aly ath</span><br></pre></td></tr></table></figure>

<p>就得到了一个非常好看的点图</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/2013053-23a7b0a5da7fec0a-e11679cb837645478bd757e1308c875f.png" alt="共线性点图"></p>
<p>我们可以发现，都作为Arabidopsis属的两个物种，他们之间存在很高的同源性，并且同源区比例是1:1, </p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/2013053-acf610eff4eff64d-6b894a50cd5d42529a757362a7078f1d.png" alt="共线区域比例"></p>
<p>这其实和2011年的Nature Genetics上Alyrata的文章的结果是相似的，只不过他不是用点图进行展示</p>
<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/2013053-a4fd011cbd93bf80-c23af4bd80064f67b54a17f3cf1077f9.png" alt="Nature Genetics"></p>
<p>我们也可以用JCVI的画图模块实现这种效果，只不过还需要一点额外操作，创建如下三个文件</p>
<ul>
<li>seqids: 需要展现哪些序列</li>
<li>layout: 不同物种的在图上的位置</li>
<li>.simple: 从<code>.anchors</code>文件创建的更简化格式</li>
</ul>
<p>第一步，创建<code>.simple</code>文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m jcvi.compara.synteny screen --minspan=30 --simple aly.ath.anchors aly.ath.anchors.new </span><br></pre></td></tr></table></figure>

<p>第二步, 创建<code>seqid</code>文件，非常简单，就是需要展示的scaffold或染色体的编号</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scaffold_1,scaffold_2,scaffold_3,scaffold_4,scaffold_5,scaffold_6,scaffold_7,scaffold_8</span><br><span class="line">Chr1,Chr2,Chr3,Chr4,Chr5</span><br></pre></td></tr></table></figure>

<p>第二步，创建<code>layout</code>文件，用于设置绘制的一些选项。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># y, xstart, xend, rotation, color, label, va,  bed</span></span><br><span class="line"> .6,     .2,    .8,       0,      , Alyrata, top, aly.bed</span><br><span class="line"> .4,     .2,    .8,       0,      , Athaliana, top, ath.bed</span><br><span class="line"><span class="comment"># edges</span></span><br><span class="line">e, 0, 1, aly.ath.anchors.simple</span><br></pre></td></tr></table></figure>
<p> <strong>注意</strong>, <code>#edges</code>下的每一行开头都不能有空格</p>
<p>最后运行下面的命令，会得到一个karyotype.pdf</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m jcvi.graphics.karyotype seqids layout</span><br></pre></td></tr></table></figure>

<p><img src="https://halo-1252249331.cos.ap-shanghai.myqcloud.com/upload/2019/9/2013053-f06c776e0a79fffe-adf34da2af6b45dfb8aed9d08a2ca462.png" alt="染色体共线性图"></p>
<p>如何让这个图垂直呢？（导入AI里就好了）</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://xuzhougeng.top/2019/09/02/%E3%80%8CJCVI%E6%95%99%E7%A8%8B%E3%80%8D%E4%BD%BF%E7%94%A8JCVI%E8%BF%9B%E8%A1%8C%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90(%E4%B8%8A)-Comparative-genomics-using-JCVI-part-one/" data-id="clm4a30kl004pe6nk21sv2qk2" data-title="「JCVI教程」使用JCVI进行基因组共线性分析(上)" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96-JCVI/" rel="tag">可视化 | JCVI</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/19/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="page-number" href="/page/19/">19</a><span class="page-number current">20</span><a class="page-number" href="/page/21/">21</a><a class="page-number" href="/page/22/">22</a><span class="space">&hellip;</span><a class="page-number" href="/page/25/">25</a><a class="extend next" rel="next" href="/page/21/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C++</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/R/">R</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Rust/">Rust</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%85%B6%E4%BB%96/">其他</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/">基因组学</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/">数据科学</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">数据结构与算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/">文献阅读</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%96%87%E7%AB%A0%E9%87%8D%E7%8E%B0/">文章重现</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E4%BF%A1%E8%BD%AF%E4%BB%B6%E5%B7%A5%E5%85%B7%E7%AE%B1/">生信软件工具箱</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E4%BF%A1%E8%BD%AF%E4%BB%B6%E5%B7%A5%E5%85%B7%E7%AE%B1-%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/">生信软件工具箱 | 基因组学</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AC%E5%BD%95%E7%BB%84%E5%AD%A6/">转录组学</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ATAC-seq-%E5%8D%95%E7%BB%86%E8%83%9E/" rel="tag">ATAC-seq | 单细胞</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ATAC-seq-%E5%B7%AE%E5%BC%82%E5%88%86%E6%9E%90/" rel="tag">ATAC-seq | 差异分析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ATAC-seq-%E8%A1%A8%E8%A7%82%E7%BB%84-ChIP-seq/" rel="tag">ATAC-seq | 表观组 | ChIP-seq</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ATAC-seq-%E8%A1%A8%E8%A7%82%E7%BB%84-%E5%8D%95%E7%BB%86%E8%83%9E/" rel="tag">ATAC-seq | 表观组 | 单细胞</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BigWig/" rel="tag">BigWig</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BioNano/" rel="tag">BioNano</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C-C/" rel="tag">C&#x2F;C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C-C-%E7%AE%97%E6%B3%95/" rel="tag">C&#x2F;C++ | 算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ChIP-seq/" rel="tag">ChIP-seq</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GitHub/" rel="tag">GitHub</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hi-C/" rel="tag">Hi-C</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JCVI/" rel="tag">JCVI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MacOS/" rel="tag">MacOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NGS/" rel="tag">NGS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NGS-%E9%81%97%E4%BC%A0%E5%AE%9A%E4%BD%8D/" rel="tag">NGS | 遗传定位</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PBMC/" rel="tag">PBMC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Perl-%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" rel="tag">Perl | 软件安装</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/QT-MSVC/" rel="tag">QT | MSVC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Seurat/" rel="tag">Seurat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Seurat-%E5%8D%95%E7%BB%86%E8%83%9E-%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/" rel="tag">Seurat | 单细胞 | 数据挖掘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Seurat-%E8%BD%AC%E5%BD%95%E7%BB%84-%E5%8D%95%E7%BB%86%E8%83%9E/" rel="tag">Seurat | 转录组 | 单细胞</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web%E5%BC%80%E5%8F%91/" rel="tag">Web开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Zotero-%E6%96%87%E7%8C%AE-%E5%9D%9A%E6%9E%9C%E4%BA%91/" rel="tag">Zotero | 文献 | 坚果云</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/biocondutor/" rel="tag">biocondutor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/conda/" rel="tag">conda</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/samtools/" rel="tag">samtools</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/typora/" rel="tag">typora</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" rel="tag">个人博客</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%95%E7%BB%86%E8%83%9E/" rel="tag">单细胞</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">可视化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96-CIRCOS/" rel="tag">可视化 | CIRCOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96-JCVI/" rel="tag">可视化 | JCVI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96-%E5%8D%95%E7%BB%86%E8%83%9E/" rel="tag">可视化 | 单细胞</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96-%E6%AF%94%E8%BE%83%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/" rel="tag">可视化 | 比较基因组学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F/" rel="tag">基因家族</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%BA%E5%9B%A0%E7%BB%84/" rel="tag">基因组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%8F%E6%8A%80%E5%B7%A7/" rel="tag">小技巧</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%8F%E6%8A%80%E5%B7%A7-SSH/" rel="tag">小技巧 | SSH</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BA%8F%E5%88%97%E6%AF%94%E5%AF%B9/" rel="tag">序列比对</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/" rel="tag">数据挖掘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-C-C/" rel="tag">数据结构 | C&#x2F;C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag">服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="tag">正则表达式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/" rel="tag">正则表达式 | 字符串处理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AF%94%E8%BE%83%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/" rel="tag">比较基因组学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B0%B4%E7%A8%BB-%E8%BD%AC%E5%BD%95%E7%BB%84/" rel="tag">水稻 | 转录组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B0%B4%E7%A8%BB-%E8%BD%AC%E5%BD%95%E7%BB%84-%E9%81%97%E4%BC%A0%E5%AE%9A%E4%BD%8D/" rel="tag">水稻 | 转录组 | 遗传定位</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B3%A8%E9%87%8A/" rel="tag">注释</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B3%A8%E9%87%8A-MAKER/" rel="tag">注释 | MAKER</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B3%A8%E9%87%8A-%E5%BA%8F%E5%88%97%E6%AF%94%E5%AF%B9/" rel="tag">注释 | 序列比对</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B3%A8%E9%87%8A-%E6%B5%81%E7%A8%8B%E5%B7%A5%E5%85%B7/" rel="tag">注释 | 流程工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B3%A8%E9%87%8A-%E6%B5%81%E7%A8%8B%E5%B7%A5%E5%85%B7-MAKER/" rel="tag">注释 | 流程工具 | MAKER</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B3%A8%E9%87%8A-%E9%87%8D%E5%A4%8D%E5%BA%8F%E5%88%97/" rel="tag">注释 | 重复序列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%81%E7%A8%8B%E5%B7%A5%E5%85%B7/" rel="tag">流程工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%81%E7%A8%8B%E5%B7%A5%E5%85%B7-%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F/" rel="tag">流程工具 | 基因家族</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%81%E7%A8%8B%E5%B7%A5%E5%85%B7-%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag">流程工具 | 服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" rel="tag">深度学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/" rel="tag">源码解读</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-hash/" rel="tag">源码解读 | hash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%88%AC%E8%99%AB/" rel="tag">爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" rel="tag">环境变量</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE-WSL/" rel="tag">环境配置 | WSL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%B3%BB%E7%BB%9F%E5%8F%91%E8%82%B2/" rel="tag">系统发育</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%84%E8%A3%85/" rel="tag">组装</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%84%E8%A3%85-Hi-C/" rel="tag">组装 | Hi-C</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%84%E8%A3%85-%E8%BD%AC%E5%BD%95%E7%BB%84-%E6%B3%A8%E9%87%8A/" rel="tag">组装 | 转录组 | 注释</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" rel="tag">编程语言</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80-%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" rel="tag">自然语言 | 深度学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A1%A8%E8%A7%82%E7%BB%84/" rel="tag">表观组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6/" rel="tag">读书</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AC%E5%BD%95%E7%BB%84/" rel="tag">转录组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AC%E5%BD%95%E7%BB%84-%E5%8D%95%E7%BB%86%E8%83%9E/" rel="tag">转录组 | 单细胞</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AC%E5%BD%95%E7%BB%84-%E5%B7%AE%E5%BC%82%E5%88%86%E6%9E%90-TCGA/" rel="tag">转录组 | 差异分析 | TCGA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AC%E5%BD%95%E7%BB%84-%E5%BA%8F%E5%88%97%E6%AF%94%E5%AF%B9/" rel="tag">转录组 | 序列比对</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" rel="tag">软件安装</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%81%97%E4%BC%A0%E5%AE%9A%E4%BD%8D/" rel="tag">遗传定位</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%87%8D%E5%A4%8D%E5%BA%8F%E5%88%97/" rel="tag">重复序列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/ATAC-seq-%E5%8D%95%E7%BB%86%E8%83%9E/" style="font-size: 20px;">ATAC-seq | 单细胞</a> <a href="/tags/ATAC-seq-%E5%B7%AE%E5%BC%82%E5%88%86%E6%9E%90/" style="font-size: 10px;">ATAC-seq | 差异分析</a> <a href="/tags/ATAC-seq-%E8%A1%A8%E8%A7%82%E7%BB%84-ChIP-seq/" style="font-size: 10px;">ATAC-seq | 表观组 | ChIP-seq</a> <a href="/tags/ATAC-seq-%E8%A1%A8%E8%A7%82%E7%BB%84-%E5%8D%95%E7%BB%86%E8%83%9E/" style="font-size: 10px;">ATAC-seq | 表观组 | 单细胞</a> <a href="/tags/BigWig/" style="font-size: 10px;">BigWig</a> <a href="/tags/BioNano/" style="font-size: 10px;">BioNano</a> <a href="/tags/C-C/" style="font-size: 19px;">C/C++</a> <a href="/tags/C-C-%E7%AE%97%E6%B3%95/" style="font-size: 10px;">C/C++ | 算法</a> <a href="/tags/ChIP-seq/" style="font-size: 10px;">ChIP-seq</a> <a href="/tags/GitHub/" style="font-size: 11px;">GitHub</a> <a href="/tags/Hi-C/" style="font-size: 10px;">Hi-C</a> <a href="/tags/JCVI/" style="font-size: 10px;">JCVI</a> <a href="/tags/MacOS/" style="font-size: 16px;">MacOS</a> <a href="/tags/NGS/" style="font-size: 11px;">NGS</a> <a href="/tags/NGS-%E9%81%97%E4%BC%A0%E5%AE%9A%E4%BD%8D/" style="font-size: 10px;">NGS | 遗传定位</a> <a href="/tags/PBMC/" style="font-size: 10px;">PBMC</a> <a href="/tags/Perl-%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" style="font-size: 10px;">Perl | 软件安装</a> <a href="/tags/QT-MSVC/" style="font-size: 10px;">QT | MSVC</a> <a href="/tags/Seurat/" style="font-size: 10px;">Seurat</a> <a href="/tags/Seurat-%E5%8D%95%E7%BB%86%E8%83%9E-%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/" style="font-size: 10px;">Seurat | 单细胞 | 数据挖掘</a> <a href="/tags/Seurat-%E8%BD%AC%E5%BD%95%E7%BB%84-%E5%8D%95%E7%BB%86%E8%83%9E/" style="font-size: 10px;">Seurat | 转录组 | 单细胞</a> <a href="/tags/Web%E5%BC%80%E5%8F%91/" style="font-size: 11px;">Web开发</a> <a href="/tags/Zotero-%E6%96%87%E7%8C%AE-%E5%9D%9A%E6%9E%9C%E4%BA%91/" style="font-size: 11px;">Zotero | 文献 | 坚果云</a> <a href="/tags/biocondutor/" style="font-size: 10px;">biocondutor</a> <a href="/tags/conda/" style="font-size: 11px;">conda</a> <a href="/tags/samtools/" style="font-size: 10px;">samtools</a> <a href="/tags/typora/" style="font-size: 10px;">typora</a> <a href="/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" style="font-size: 10px;">个人博客</a> <a href="/tags/%E5%8D%95%E7%BB%86%E8%83%9E/" style="font-size: 13px;">单细胞</a> <a href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96/" style="font-size: 12px;">可视化</a> <a href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96-CIRCOS/" style="font-size: 14px;">可视化 | CIRCOS</a> <a href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96-JCVI/" style="font-size: 12px;">可视化 | JCVI</a> <a href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96-%E5%8D%95%E7%BB%86%E8%83%9E/" style="font-size: 10px;">可视化 | 单细胞</a> <a href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96-%E6%AF%94%E8%BE%83%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/" style="font-size: 10px;">可视化 | 比较基因组学</a> <a href="/tags/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F/" style="font-size: 11px;">基因家族</a> <a href="/tags/%E5%9F%BA%E5%9B%A0%E7%BB%84/" style="font-size: 11px;">基因组</a> <a href="/tags/%E5%B0%8F%E6%8A%80%E5%B7%A7/" style="font-size: 17px;">小技巧</a> <a href="/tags/%E5%B0%8F%E6%8A%80%E5%B7%A7-SSH/" style="font-size: 10px;">小技巧 | SSH</a> <a href="/tags/%E5%BA%8F%E5%88%97%E6%AF%94%E5%AF%B9/" style="font-size: 10px;">序列比对</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/" style="font-size: 11px;">数据挖掘</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 12px;">数据结构</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-C-C/" style="font-size: 16px;">数据结构 | C/C++</a> <a href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 12px;">服务器</a> <a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10px;">正则表达式</a> <a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/" style="font-size: 10px;">正则表达式 | 字符串处理</a> <a href="/tags/%E6%AF%94%E8%BE%83%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/" style="font-size: 10px;">比较基因组学</a> <a href="/tags/%E6%B0%B4%E7%A8%BB-%E8%BD%AC%E5%BD%95%E7%BB%84/" style="font-size: 10px;">水稻 | 转录组</a> <a href="/tags/%E6%B0%B4%E7%A8%BB-%E8%BD%AC%E5%BD%95%E7%BB%84-%E9%81%97%E4%BC%A0%E5%AE%9A%E4%BD%8D/" style="font-size: 10px;">水稻 | 转录组 | 遗传定位</a> <a href="/tags/%E6%B3%A8%E9%87%8A/" style="font-size: 12px;">注释</a> <a href="/tags/%E6%B3%A8%E9%87%8A-MAKER/" style="font-size: 13px;">注释 | MAKER</a> <a href="/tags/%E6%B3%A8%E9%87%8A-%E5%BA%8F%E5%88%97%E6%AF%94%E5%AF%B9/" style="font-size: 10px;">注释 | 序列比对</a> <a href="/tags/%E6%B3%A8%E9%87%8A-%E6%B5%81%E7%A8%8B%E5%B7%A5%E5%85%B7/" style="font-size: 10px;">注释 | 流程工具</a> <a href="/tags/%E6%B3%A8%E9%87%8A-%E6%B5%81%E7%A8%8B%E5%B7%A5%E5%85%B7-MAKER/" style="font-size: 10px;">注释 | 流程工具 | MAKER</a> <a href="/tags/%E6%B3%A8%E9%87%8A-%E9%87%8D%E5%A4%8D%E5%BA%8F%E5%88%97/" style="font-size: 12px;">注释 | 重复序列</a> <a href="/tags/%E6%B5%81%E7%A8%8B%E5%B7%A5%E5%85%B7/" style="font-size: 17px;">流程工具</a> <a href="/tags/%E6%B5%81%E7%A8%8B%E5%B7%A5%E5%85%B7-%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F/" style="font-size: 10px;">流程工具 | 基因家族</a> <a href="/tags/%E6%B5%81%E7%A8%8B%E5%B7%A5%E5%85%B7-%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 10px;">流程工具 | 服务器</a> <a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" style="font-size: 10px;">深度学习</a> <a href="/tags/%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/" style="font-size: 10px;">源码解读</a> <a href="/tags/%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB-hash/" style="font-size: 10px;">源码解读 | hash</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 10px;">爬虫</a> <a href="/tags/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" style="font-size: 10px;">环境变量</a> <a href="/tags/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE-WSL/" style="font-size: 10px;">环境配置 | WSL</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 11px;">算法</a> <a href="/tags/%E7%B3%BB%E7%BB%9F%E5%8F%91%E8%82%B2/" style="font-size: 12px;">系统发育</a> <a href="/tags/%E7%BB%84%E8%A3%85/" style="font-size: 18px;">组装</a> <a href="/tags/%E7%BB%84%E8%A3%85-Hi-C/" style="font-size: 16px;">组装 | Hi-C</a> <a href="/tags/%E7%BB%84%E8%A3%85-%E8%BD%AC%E5%BD%95%E7%BB%84-%E6%B3%A8%E9%87%8A/" style="font-size: 10px;">组装 | 转录组 | 注释</a> <a href="/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" style="font-size: 11px;">编程语言</a> <a href="/tags/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80-%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" style="font-size: 11px;">自然语言 | 深度学习</a> <a href="/tags/%E8%A1%A8%E8%A7%82%E7%BB%84/" style="font-size: 10px;">表观组</a> <a href="/tags/%E8%AF%BB%E4%B9%A6/" style="font-size: 11px;">读书</a> <a href="/tags/%E8%BD%AC%E5%BD%95%E7%BB%84/" style="font-size: 11px;">转录组</a> <a href="/tags/%E8%BD%AC%E5%BD%95%E7%BB%84-%E5%8D%95%E7%BB%86%E8%83%9E/" style="font-size: 11px;">转录组 | 单细胞</a> <a href="/tags/%E8%BD%AC%E5%BD%95%E7%BB%84-%E5%B7%AE%E5%BC%82%E5%88%86%E6%9E%90-TCGA/" style="font-size: 10px;">转录组 | 差异分析 | TCGA</a> <a href="/tags/%E8%BD%AC%E5%BD%95%E7%BB%84-%E5%BA%8F%E5%88%97%E6%AF%94%E5%AF%B9/" style="font-size: 10px;">转录组 | 序列比对</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" style="font-size: 15px;">软件安装</a> <a href="/tags/%E9%81%97%E4%BC%A0%E5%AE%9A%E4%BD%8D/" style="font-size: 10px;">遗传定位</a> <a href="/tags/%E9%87%8D%E5%A4%8D%E5%BA%8F%E5%88%97/" style="font-size: 12px;">重复序列</a> <a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 10px;">随笔</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">九月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">八月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">六月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">五月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">四月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">三月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">二月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">一月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">十一月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">十月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">九月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">八月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">七月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">六月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">四月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">三月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">二月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">一月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">十二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">十一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/09/04/%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E8%BD%AC%E5%BD%95%E7%BB%84%E6%B5%8B%E5%BA%8F%E6%98%AF%E5%90%A6%E4%B8%BA%E9%93%BE%E7%89%B9%E5%BC%82%E6%80%A7%E5%BB%BA%E5%BA%93/">如何判断转录组测序是否为链特异性建库</a>
          </li>
        
          <li>
            <a href="/2023/09/02/%E5%A6%82%E4%BD%95%E8%AE%A9%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8D%E5%86%8D%E9%BE%9F%E9%80%9F%E4%B8%8B%E8%BD%BDgithub%E7%9A%84%E6%95%B0%E6%8D%AE/">如何让服务器不再龟速下载github的数据</a>
          </li>
        
          <li>
            <a href="/2023/08/27/%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E5%AE%B9%E5%99%A8singularity/">编译安装容器singularity</a>
          </li>
        
          <li>
            <a href="/2023/08/25/%E5%85%B3%E4%BA%8E%E7%94%B3%E8%AF%B7OpenAI%E7%9A%84API%E7%9A%84%E5%87%A0%E7%82%B9%E8%A1%A5%E5%85%85/">关于申请OpenAI的API的几点补充</a>
          </li>
        
          <li>
            <a href="/2023/08/18/%E4%BB%8Ehalo%E8%BF%81%E7%A7%BB%E5%88%B0hexo/">从halo迁移到hexo</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 xuzhougeng<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>